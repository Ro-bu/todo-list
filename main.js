(()=>{"use strict";class e{constructor(e,t){this.name=e,this.color=t,this.tasks=[]}newName(e){this.name=e}newColor(e){this.color=e}addTask(e){this.tasks.push(e)}overWriteTasks(e){this.tasks=e}}class t{constructor(e,t,a=!1){this.name=e,this.date=t,this.done=a}newName(e){this.name=e}newDate(e){this.date=e}toggleDone(){this.done?this.done=!1:this.done=!0}}const a=()=>{document.querySelector("#task-error").textContent="",document.querySelector("#project-error").textContent="",document.querySelector("#project-name-error").textContent=""};class n{static saveData(e){localStorage.setItem("projectList",JSON.stringify(e))}static getData(){return JSON.parse(localStorage.getItem("projectList"))}static dummyCheck(){null===JSON.parse(localStorage.getItem("projectList"))&&localStorage.setItem("projectList",JSON.stringify(r))}}let r=[{name:"Gym",color:"#ef2929",tasks:[{name:"Max day",date:"2022-05-06",done:!1},{name:"Squat 180kg",date:"",done:!1}]},{name:"Work",color:"#fce94f",tasks:[{name:"Team meeting",date:"2022-05-19",done:!1},{name:"New project presentation",date:"2022-05-31",done:!1},{name:"Madeleine's bday",date:"2022-08-17",done:!1},{name:"Get cookies for the team",date:"2022-04-06",done:!0}]},{name:"Chores",color:"#204a87",tasks:[{name:"Wash the car",date:"",done:!1},{name:"Batteries for the remote",date:"",done:!0},{name:"New lightbulb for the bathroom",date:"",done:!0}]}];Math.pow(10,8);var o=36e5;function c(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function l(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function d(e,t){c(1,arguments);var a=t||{},n=null==a.additionalDigits?2:l(a.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r,o=p(e);if(o.date){var d=h(o.date,n);r=f(d.restDateString,d.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var s,i=r.getTime(),u=0;if(o.time&&(u=S(o.time),isNaN(u)))return new Date(NaN);if(!o.timezone){var m=new Date(i+u),y=new Date(0);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return s=g(o.timezone),isNaN(s)?new Date(NaN):new Date(i+u+s)}var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,m=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p(e){var t,a={},n=e.split(s.dateTimeDelimiter);if(n.length>2)return a;if(/:/.test(n[0])?t=n[0]:(a.date=n[0],t=n[1],s.timeZoneDelimiter.test(a.date)&&(a.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length))),t){var r=s.timezone.exec(t);r?(a.time=t.replace(r[1],""),a.timezone=r[1]):a.time=t}return a}function h(e,t){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(a);if(!n)return{year:NaN,restDateString:""};var r=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:null===o?r:100*o,restDateString:e.slice((n[1]||n[2]).length)}}function f(e,t){if(null===t)return new Date(NaN);var a=e.match(i);if(!a)return new Date(NaN);var n=!!a[4],r=y(a[1]),o=y(a[2])-1,c=y(a[3]),l=y(a[4]),d=y(a[5])-1;if(n)return function(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}(0,l,d)?function(e,t,a){var n=new Date(0);n.setUTCFullYear(e,0,4);var r=7*(t-1)+a+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+r),n}(t,l,d):new Date(NaN);var s=new Date(0);return function(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(v[t]||(D(e)?29:28))}(t,o,c)&&function(e,t){return t>=1&&t<=(D(e)?366:365)}(t,r)?(s.setUTCFullYear(t,o,Math.max(r,c)),s):new Date(NaN)}function y(e){return e?parseInt(e):1}function S(e){var t=e.match(u);if(!t)return NaN;var a=k(t[1]),n=k(t[2]),r=k(t[3]);return function(e,t,a){return 24===e?0===t&&0===a:a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}(a,n,r)?a*o+6e4*n+1e3*r:NaN}function k(e){return e&&parseFloat(e.replace(",","."))||0}function g(e){if("Z"===e)return 0;var t=e.match(m);if(!t)return 0;var a="+"===t[1]?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,r)?a*(n*o+6e4*r):NaN}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function D(e){return e%400==0||e%4==0&&e%100!=0}function E(e){c(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function q(e,t){c(2,arguments);var a=E(e),n=E(t),r=a.getTime()-n.getTime();return r<0?-1:r>0?1:r}function C(e,t){c(2,arguments);var a=E(e),n=l(t);return isNaN(n)?new Date(NaN):n?(a.setDate(a.getDate()+n),a):a}function j(e,t){c(2,arguments);var a=E(e),n=l(t);if(isNaN(n))return new Date(NaN);if(!n)return a;var r=a.getDate(),o=new Date(a.getTime());o.setMonth(a.getMonth()+n+1,0);var d=o.getDate();return r>=d?o:(a.setFullYear(o.getFullYear(),o.getMonth(),r),a)}const x=()=>{let a=[];return n.getData().forEach((n=>{let r=new e(n.name,n.color);n.tasks.forEach((e=>{r.addTask(new t(e.name,e.date,e.done))})),a.push(r)})),a},N=()=>{null!==n.getData()&&n.getData().forEach((e=>{(e=>{let t=document.createElement("li");t.dataset.project=e.name;let a=document.createElement("span"),n=document.createElement("div");a.textContent=e.name,n.style.backgroundColor=e.color,t.appendChild(n),t.appendChild(a),document.querySelector(".project-container ul").appendChild(t)})(e)}))},w=(e,t,a,n)=>{let r=document.createElement("li");r.dataset.projectIndex=a,r.dataset.taskIndex=n;let o=document.createElement("div");o.classList.add("color-block"),o.style.backgroundColor=t;let c=document.createElement("div");c.classList.add("task-container");let l=document.createElement("div");l.classList.add("task-and-checkbox");let d=document.createElement("div");if(d.classList.add("checkbox"),!0===e.done){d.classList.add("checked");let e=document.createElement("img");e.src="./img/check.png",d.appendChild(e)}let s=document.createElement("div");s.classList.add("task-name"),s.textContent=e.name;let i=document.createElement("div");i.classList.add("date-and-edit");let u=document.createElement("date");u.classList.add("date"),""===e.date?u.textContent="No due date":u.textContent=e.date;let m=document.createElement("span");m.classList.add("task-edit-button");let p=document.createElement("img");p.src="./img/credit-card-edit.png";let h=document.createElement("span"),f=document.createElement("img");f.src="./img/delete.png",r.appendChild(o),r.appendChild(c),c.appendChild(l),l.appendChild(d),l.appendChild(s),c.appendChild(i),i.appendChild(u),m.appendChild(p),h.appendChild(f),i.appendChild(m),i.appendChild(h),e.done?document.querySelector(".bot-content-block ul").append(r):document.querySelector(".bot-content-block ul").prepend(r)},b=()=>{if(null!==n.getData()){let e=n.getData(),t=0;e.forEach((e=>{let a=e.color,n=0;e.tasks.forEach((e=>{w(e,a,t,n),n++})),t++}))}},L=e=>{if(null!==n.getData()){let t=n.getData(),a=0;t.forEach((t=>{let n=0;if(t.name===e){let e=t.color;t.tasks.forEach((t=>{w(t,e,a,n),n++}))}a++}))}},T=()=>{let e=d((new Date).toISOString().split("T")[0]),t=n.getData(),a=0;t.forEach((t=>{let n=t.color,r=0;t.tasks.forEach((t=>{0===q(d(t.date),e)&&w(t,n,a,r),r++})),a++}))},I=()=>{let e=d((new Date).toISOString().split("T")[0]),t=function(e,t){if(c(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var a=t.years?l(t.years):0,n=t.months?l(t.months):0,r=t.weeks?l(t.weeks):0,o=t.days?l(t.days):0,d=t.hours?l(t.hours):0,s=t.minutes?l(t.minutes):0,i=t.seconds?l(t.seconds):0,u=E(e),m=n||a?j(u,n+12*a):u,p=o||r?C(m,o+7*r):m,h=1e3*(i+60*(s+60*d));return new Date(p.getTime()+h)}(e,{days:7}),a=n.getData(),r=0;a.forEach((a=>{let n=a.color,o=0;a.tasks.forEach((a=>{-1===q(d(a.date),t)&&-1!==q(d(a.date),e)&&w(a,n,r,o),o++})),r++}))},A=()=>{let e=document.querySelector(".bot-content-block ul");for(;e.firstChild;)e.removeChild(e.lastChild)},O=()=>{(()=>{let e=document.querySelector(".project-container ul");for(;e.firstChild;)e.removeChild(e.lastChild)})(),N(),P()},M=()=>{let e=document.querySelector(".list-name").textContent;switch(e){case"ALL":A(),b();break;case"TODAY":A(),T();break;case"WEEK":A(),I();break;default:A(),L(e)}Y()};class U{static add(){let e=document.querySelector(".list-edit-delete"),t=document.createElement("span");t.textContent="Edit";let a=document.createElement("span");a.textContent="Delete",e.append(t),e.append(a)}static clear(){let e=document.querySelector(".list-edit-delete");for(;e.firstChild;)e.removeChild(e.lastChild)}}const P=()=>{let e=document.querySelector(".list-name");document.querySelectorAll(".project-container ul li").forEach((t=>{t.addEventListener("click",(t=>{A(),e.textContent=String(t.target.closest("li").dataset.project),L(t.target.closest("li").dataset.project),Y(),U.clear(),U.add(),document.querySelector(".list-edit-delete span:first-child").addEventListener("click",(()=>{B()})),document.querySelector(".list-edit-delete span:last-child").addEventListener("click",(()=>{(()=>{let e=document.querySelector(".top-content-block h2").textContent,t=n.getData(),a=0;t.forEach((n=>{n.name===e&&t.splice(a,1),a++})),n.saveData(t)})(),A(),document.querySelector(".list-name").textContent="ALL",b(),Y(),U.clear(),O()}))}))}))},W=()=>{document.querySelectorAll(".date-and-edit span:last-child").forEach((e=>{e.addEventListener("click",(()=>{let t=x(),a=parseInt(e.parentElement.parentElement.parentElement.dataset.projectIndex),r=parseInt(e.parentElement.parentElement.parentElement.dataset.taskIndex);t[a].tasks.splice(r,1),n.saveData(t),M()}))}))},Y=()=>{document.querySelectorAll(".checkbox").forEach((e=>{e.addEventListener("click",(()=>{if(e.classList.contains("checked"))e.removeChild(e.lastChild);else{let t=document.createElement("img");t.src="./img/check.png",e.appendChild(t)}let t=x(),a=parseInt(e.parentElement.parentElement.parentElement.dataset.projectIndex),r=parseInt(e.parentElement.parentElement.parentElement.dataset.taskIndex);t[a].tasks[r].toggleDone(),n.saveData(t),e.classList.toggle("checked")}))})),W(),V()},F=()=>{document.querySelector("#project-modal").style.display="none",document.querySelector("#project-modal .modal-top span:first-child").textContent="ADD PROJECT",document.querySelector("#project-form-submit").textContent="Add Project"},J=()=>{document.querySelector("#project-form").reset(),a(),document.querySelector("#project-modal").style.display="block"},Z=()=>{document.querySelector("#task-modal").style.display="none",delete document.querySelector("#task-modal .modal-top span:first-child").dataset.taskIndex,delete document.querySelector("#task-modal .modal-top span:first-child").dataset.projectIndex,document.querySelector("#task-modal .modal-top span:first-child").textContent="ADD TASK",document.querySelector("#task-form-submit").textContent="Add Task"},z=()=>{document.querySelector("#task-form").reset(),a(),G(),H(),document.querySelector("#task-modal").style.display="block"},K=()=>{(()=>{const e=document.querySelector("#name").value;let t=document.querySelector("#project-name-error"),a=!0;return""===e?(t.textContent="Please enter a name for the project.",a=!1):(t.textContent="",a=!0),!!a})()&&("EDIT PROJECT"===document.querySelector("#project-modal .modal-top span:first-child").textContent?(Q(),O(),M(),F()):((()=>{let t=(()=>{let t=document.querySelector("#name").value,a=document.querySelector("#color").value;return new e(t,a)})();if(null===n.getData()){let e=[];e.push(t),n.saveData(e)}else{let e=n.getData();e.push(t),n.saveData(e)}})(),O(),F()))},R=()=>{let e=(()=>{let e=document.querySelector("#task").value,a=document.querySelector("#dueDate").value;return new t(e,a)})(),a=document.querySelector("#project").value,r=n.getData();r.forEach((t=>{t.name===a&&t.tasks.push(e)})),n.saveData(r)},$=()=>{(()=>{const e=document.querySelector("#task").value,t=document.querySelector("#project").value;let a=document.querySelector("#task-error"),n=document.querySelector("#project-error"),r=!0,o=!0;return""===e?(a.textContent="Please enter a task name.",o=!1):(a.textContent="",o=!0),""===t&&null===document.querySelector("#project").firstChild?(n.textContent="Please create a project before adding a task.",r=!1):(n.textContent="",r=!0),!(!r||!o)})()&&("EDIT TASK"===document.querySelector("#task-modal .modal-top span:first-child").textContent?(X(),Z(),M()):(R(),Z(),M()))},G=()=>{let e=document.querySelector("#project");for(;e.firstChild;)e.removeChild(e.lastChild)},H=()=>{let e=document.querySelector("#project");if(null!==n.getData()){let t=n.getData();for(const a of t){let t=document.createElement("option");t.value=a.name,t.text=a.name,e.appendChild(t)}}},B=()=>{let e=document.querySelector(".top-content-block h2").textContent,t=n.getData(),a=0;t.forEach((t=>{if(t.name===e){J();let n=document.querySelector("#project-modal .modal-top span:first-child");n.textContent="EDIT PROJECT",document.querySelector("#project-form-submit").textContent="Edit Project";let r=document.querySelector("#name"),o=document.querySelector("#color");r.value=e,o.value=t.color,n.dataset.projectIndex=a}a++}))},Q=()=>{let e=x(),t=document.querySelector("#name"),a=document.querySelector("#color"),r=parseInt(document.querySelector("#project-modal .modal-top span:first-child").dataset.projectIndex);e[r].newName(t.value),e[r].newColor(a.value),document.querySelector(".list-name").textContent=t.value,n.saveData(e),delete document.querySelector("#project-modal .modal-top span:first-child").dataset.projectIndex},V=()=>{document.querySelectorAll(".task-edit-button").forEach((e=>{e.addEventListener("click",(()=>{z();let t=document.querySelector("#task-modal .modal-top span:first-child");t.textContent="EDIT TASK",document.querySelector("#task-form-submit").textContent="Edit Task";let a=n.getData(),r=parseInt(e.parentElement.parentElement.parentElement.dataset.projectIndex),o=parseInt(e.parentElement.parentElement.parentElement.dataset.taskIndex);t.dataset.projectIndex=r,t.dataset.taskIndex=o;let c=document.querySelector("#task"),l=document.querySelector("#dueDate"),d=document.querySelector("#project"),s=a[r].tasks[o];c.value=s.name,d.value=a[r].name,""!==s.date&&(l.value=s.date)}))}))},X=()=>{let e=x(),t=document.querySelector("#task"),a=document.querySelector("#dueDate"),r=document.querySelector("#project"),o=parseInt(document.querySelector("#task-modal .modal-top span:first-child").dataset.projectIndex),c=parseInt(document.querySelector("#task-modal .modal-top span:first-child").dataset.taskIndex);r.value===e[o].name?(e[o].tasks[c].newName(t.value),e[o].tasks[c].newDate(a.value),n.saveData(e)):(e[o].tasks.splice(c,1),n.saveData(e),R())};n.dummyCheck(),document.querySelector("#project-form").addEventListener("submit",(e=>{e.preventDefault(),K()})),document.querySelector("#task-form").addEventListener("submit",(e=>{e.preventDefault(),$()})),document.querySelector("#task-modal-close").addEventListener("click",(()=>{Z()})),document.querySelector(".add-task").addEventListener("click",(()=>{z()})),document.querySelector("#project-modal-close").addEventListener("click",(()=>{F()})),document.querySelector(".add-project").addEventListener("click",(()=>{J()})),window.addEventListener("click",(()=>{event.target==document.querySelector("#task-modal")?Z():event.target==document.querySelector("#project-modal")&&F()})),document.querySelector("#project-form-submit").addEventListener("click",(e=>{e.preventDefault(),K()})),document.querySelector("#task-form-submit").addEventListener("click",(e=>{e.preventDefault(),$()})),document.querySelector("#task-form-cancel").addEventListener("click",(e=>{e.preventDefault(),Z()})),document.querySelector("#project-form-cancel").addEventListener("click",(e=>{e.preventDefault(),F()})),b(),N(),P(),(()=>{let e=document.querySelector(".list-name");document.querySelector("#all-tasks").addEventListener("click",(()=>{A(),e.textContent="ALL",b(),Y(),U.clear()})),document.querySelector("#today-tasks").addEventListener("click",(()=>{A(),e.textContent="TODAY",T(),Y(),U.clear()})),document.querySelector("#week-tasks").addEventListener("click",(()=>{A(),e.textContent="WEEK",I(),Y(),U.clear()}))})(),Y(),W(),document.querySelector("#projects").addEventListener("click",(()=>{document.querySelector("body").clientWidth<=1e3&&document.querySelector(".project-container").classList.toggle("visible")})),window.addEventListener("click",(e=>{document.querySelector("body").clientWidth<=1e3&&!e.target.contains(document.querySelector(".project-container"))&&!e.target.contains(document.querySelector("#projects"))&&document.querySelector(".project-container").classList.remove("visible")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFzQmtLLFVBQVU4RyxPQUFPLGUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpcy8uL3NyYy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXMvLi9zcmMvZm9ybS12YWxpZGF0b3JzLmpzIiwid2VicGFjazovL3RvZG8tbGlzLy4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXMvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2NvbnN0YW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpcy8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXMvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzLy4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9wYXJzZUlTTy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpcy8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vdG9EYXRlL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzLy4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9jb21wYXJlQXNjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzLy4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9hZGREYXlzL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzLy4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9hZGRNb250aHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXMvLi9zcmMvb2JqZWN0LW1ldGhvZHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXMvLi9zcmMvdWkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXMvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2FkZC9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpcy8uL3NyYy9tb2RhbC1jb250cm9scy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpcy8uL3NyYy9zY3JpcHRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbG9yKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy50YXNrcyA9IFtdO1xuICAgIH07XG4gICAgbmV3TmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfTtcbiAgICBuZXdDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgfVxuICAgIGFkZFRhc2sodGFzaykge1xuICAgICAgICB0aGlzLnRhc2tzLnB1c2godGFzayk7XG4gICAgfTtcbiAgICBvdmVyV3JpdGVUYXNrcyh0YXNrTGlzdCkge1xuICAgICAgICB0aGlzLnRhc2tzID0gdGFza0xpc3Q7XG4gICAgfTtcbn07XG5cbmNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRhdGUsIGRvbmUgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgICAgICB0aGlzLmRvbmUgPSBkb25lO1xuICAgIH07XG4gICAgbmV3TmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfTtcbiAgICBuZXdEYXRlKGRhdGUpIHtcbiAgICAgICAgdGhpcy5kYXRlID0gZGF0ZTtcbiAgICB9O1xuICAgIHRvZ2dsZURvbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQge1Byb2plY3QsIFRhc2t9OyIsImNvbnN0IHZhbGlkYXRlUHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIikudmFsdWU7XG4gICAgbGV0IHByb2plY3RFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1uYW1lLWVycm9yXCIpO1xuICAgIGxldCBub1Byb2plY3ROYW1lRXJyb3JzID0gdHJ1ZTtcbiAgICBpZiAocHJvamVjdE5hbWUgPT09IFwiXCIpIHtcbiAgICAgICAgcHJvamVjdEVycm9yLnRleHRDb250ZW50ID0gXCJQbGVhc2UgZW50ZXIgYSBuYW1lIGZvciB0aGUgcHJvamVjdC5cIlxuICAgICAgICBub1Byb2plY3ROYW1lRXJyb3JzID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvamVjdEVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgbm9Qcm9qZWN0TmFtZUVycm9ycyA9IHRydWU7XG4gICAgfTtcbiAgICBpZiAobm9Qcm9qZWN0TmFtZUVycm9ycykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn07XG5cbmNvbnN0IHZhbGlkYXRlVGFza0Zvcm0gPSAoKSA9PiB7XG4gICAgY29uc3QgdGFza05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tcIikudmFsdWU7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RcIikudmFsdWU7XG4gICAgbGV0IHRhc2tFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1lcnJvclwiKTtcbiAgICBsZXQgcHJvamVjdEVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LWVycm9yXCIpO1xuICAgIGxldCBub1Byb2plY3RFcnJvcnMgPSB0cnVlO1xuICAgIGxldCBub1Rhc2tFcnJvcnMgPSB0cnVlO1xuICAgIGlmICh0YXNrTmFtZSA9PT0gXCJcIikge1xuICAgICAgICB0YXNrRXJyb3IudGV4dENvbnRlbnQgPSBcIlBsZWFzZSBlbnRlciBhIHRhc2sgbmFtZS5cIjtcbiAgICAgICAgbm9UYXNrRXJyb3JzID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFza0Vycm9yLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgbm9UYXNrRXJyb3JzID0gdHJ1ZTtcbiAgICB9O1xuICAgIGlmIChwcm9qZWN0TmFtZSA9PT0gXCJcIiAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RcIikuZmlyc3RDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICBwcm9qZWN0RXJyb3IudGV4dENvbnRlbnQgPSBcIlBsZWFzZSBjcmVhdGUgYSBwcm9qZWN0IGJlZm9yZSBhZGRpbmcgYSB0YXNrLlwiO1xuICAgICAgICBub1Byb2plY3RFcnJvcnMgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9qZWN0RXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBub1Byb2plY3RFcnJvcnMgPSB0cnVlO1xuICAgIH07XG4gICAgaWYgKG5vUHJvamVjdEVycm9ycyAmJiBub1Rhc2tFcnJvcnMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59O1xuXG5jb25zdCBjbGVhckVycm9yTWVzc2FnZXMgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLWVycm9yXCIpLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtZXJyb3JcIikudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1uYW1lLWVycm9yXCIpLnRleHRDb250ZW50ID0gXCJcIjtcbn07XG5cbmV4cG9ydCB7XG4gICAgdmFsaWRhdGVQcm9qZWN0Rm9ybSxcbiAgICB2YWxpZGF0ZVRhc2tGb3JtLFxuICAgIGNsZWFyRXJyb3JNZXNzYWdlc1xufTsiLCJjbGFzcyBTdG9yYWdlIHtcbiAgICBzdGF0aWMgc2F2ZURhdGEoZGF0YSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RMaXN0XCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICAgIH07XG4gICAgc3RhdGljIGdldERhdGEoKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RMaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RMaXN0XCIpKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RMaXN0O1xuICAgIH07XG4gICAgc3RhdGljIGR1bW15Q2hlY2soKSB7XG4gICAgICAgIGlmIChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdExpc3RcIikpID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RMaXN0XCIsIEpTT04uc3RyaW5naWZ5KGR1bW15Q29udGVudCkpO1xuICAgICAgICB9O1xuICAgIH07XG59O1xuXG5sZXQgZHVtbXlDb250ZW50ID0gW1xuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIkd5bVwiLFxuICAgICAgXCJjb2xvclwiOiBcIiNlZjI5MjlcIixcbiAgICAgIFwidGFza3NcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiTWF4IGRheVwiLFxuICAgICAgICAgIFwiZGF0ZVwiOiBcIjIwMjItMDUtMDZcIixcbiAgICAgICAgICBcImRvbmVcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlNxdWF0IDE4MGtnXCIsXG4gICAgICAgICAgXCJkYXRlXCI6IFwiXCIsXG4gICAgICAgICAgXCJkb25lXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIldvcmtcIixcbiAgICAgIFwiY29sb3JcIjogXCIjZmNlOTRmXCIsXG4gICAgICBcInRhc2tzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlRlYW0gbWVldGluZ1wiLFxuICAgICAgICAgIFwiZGF0ZVwiOiBcIjIwMjItMDUtMTlcIixcbiAgICAgICAgICBcImRvbmVcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIk5ldyBwcm9qZWN0IHByZXNlbnRhdGlvblwiLFxuICAgICAgICAgIFwiZGF0ZVwiOiBcIjIwMjItMDUtMzFcIixcbiAgICAgICAgICBcImRvbmVcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIk1hZGVsZWluZSdzIGJkYXlcIixcbiAgICAgICAgICBcImRhdGVcIjogXCIyMDIyLTA4LTE3XCIsXG4gICAgICAgICAgXCJkb25lXCI6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJHZXQgY29va2llcyBmb3IgdGhlIHRlYW1cIixcbiAgICAgICAgICBcImRhdGVcIjogXCIyMDIyLTA0LTA2XCIsXG4gICAgICAgICAgXCJkb25lXCI6IHRydWVcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiQ2hvcmVzXCIsXG4gICAgICBcImNvbG9yXCI6IFwiIzIwNGE4N1wiLFxuICAgICAgXCJ0YXNrc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJXYXNoIHRoZSBjYXJcIixcbiAgICAgICAgICBcImRhdGVcIjogXCJcIixcbiAgICAgICAgICBcImRvbmVcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIkJhdHRlcmllcyBmb3IgdGhlIHJlbW90ZVwiLFxuICAgICAgICAgIFwiZGF0ZVwiOiBcIlwiLFxuICAgICAgICAgIFwiZG9uZVwiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJOZXcgbGlnaHRidWxiIGZvciB0aGUgYmF0aHJvb21cIixcbiAgICAgICAgICBcImRhdGVcIjogXCJcIixcbiAgICAgICAgICBcImRvbmVcIjogdHJ1ZVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuICBdO1xuXG5leHBvcnQge1N0b3JhZ2V9OyIsIi8qKlxuICogRGF5cyBpbiAxIHdlZWsuXG4gKlxuICogQG5hbWUgZGF5c0luV2Vla1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuZXhwb3J0IHZhciBkYXlzSW5XZWVrID0gNztcbi8qKlxuICogTWF4aW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQG5hbWUgbWF4VGltZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1heFRpbWUgPSBNYXRoLnBvdygxMCwgOCkgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuLyoqXG4gKiBNaWxsaXNlY29uZHMgaW4gMSBtaW51dGVcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbk1pbnV0ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1pbGxpc2Vjb25kc0luTWludXRlID0gNjAwMDA7XG4vKipcbiAqIE1pbGxpc2Vjb25kcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbkhvdXJcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cblxuZXhwb3J0IHZhciBtaWxsaXNlY29uZHNJbkhvdXIgPSAzNjAwMDAwO1xuLyoqXG4gKiBNaWxsaXNlY29uZHMgaW4gMSBzZWNvbmRcbiAqXG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJblNlY29uZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1pbGxpc2Vjb25kc0luU2Vjb25kID0gMTAwMDtcbi8qKlxuICogTWluaW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQG5hbWUgbWluVGltZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1pblRpbWUgPSAtbWF4VGltZTtcbi8qKlxuICogTWludXRlcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBtaW51dGVzSW5Ib3VyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5cbmV4cG9ydCB2YXIgbWludXRlc0luSG91ciA9IDYwO1xuLyoqXG4gKiBNb250aHMgaW4gMSBxdWFydGVyXG4gKlxuICogQG5hbWUgbW9udGhzSW5RdWFydGVyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5cbmV4cG9ydCB2YXIgbW9udGhzSW5RdWFydGVyID0gMztcbi8qKlxuICogTW9udGhzIGluIDEgeWVhclxuICpcbiAqIEBuYW1lIG1vbnRoc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIG1vbnRoc0luWWVhciA9IDEyO1xuLyoqXG4gKiBRdWFydGVycyBpbiAxIHllYXJcbiAqXG4gKiBAbmFtZSBxdWFydGVyc0luWWVhclxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHRcbiAqL1xuXG5leHBvcnQgdmFyIHF1YXJ0ZXJzSW5ZZWFyID0gNDtcbi8qKlxuICogU2Vjb25kcyBpbiAxIGhvdXJcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5Ib3VyXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdFxuICovXG5cbmV4cG9ydCB2YXIgc2Vjb25kc0luSG91ciA9IDM2MDA7XG4vKipcbiAqIFNlY29uZHMgaW4gMSBtaW51dGVcbiAqXG4gKiBAbmFtZSBzZWNvbmRzSW5NaW51dGVcbiAqIEBjb25zdGFudFxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0XG4gKi9cblxuZXhwb3J0IHZhciBzZWNvbmRzSW5NaW51dGUgPSA2MDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1aXJlZEFyZ3MocmVxdWlyZWQsIGFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoIDwgcmVxdWlyZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgJyBhcmd1bWVudCcgKyAocmVxdWlyZWQgPiAxID8gJ3MnIDogJycpICsgJyByZXF1aXJlZCwgYnV0IG9ubHkgJyArIGFyZ3MubGVuZ3RoICsgJyBwcmVzZW50Jyk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0ludGVnZXIoZGlydHlOdW1iZXIpIHtcbiAgaWYgKGRpcnR5TnVtYmVyID09PSBudWxsIHx8IGRpcnR5TnVtYmVyID09PSB0cnVlIHx8IGRpcnR5TnVtYmVyID09PSBmYWxzZSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICB2YXIgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTtcblxuICBpZiAoaXNOYU4obnVtYmVyKSkge1xuICAgIHJldHVybiBudW1iZXI7XG4gIH1cblxuICByZXR1cm4gbnVtYmVyIDwgMCA/IE1hdGguY2VpbChudW1iZXIpIDogTWF0aC5mbG9vcihudW1iZXIpO1xufSIsImltcG9ydCB7IG1pbGxpc2Vjb25kc0luSG91ciwgbWlsbGlzZWNvbmRzSW5NaW51dGUgfSBmcm9tIFwiLi4vY29uc3RhbnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuaW1wb3J0IHRvSW50ZWdlciBmcm9tIFwiLi4vX2xpYi90b0ludGVnZXIvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgcGFyc2VJU09cbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgUGFyc2UgSVNPIHN0cmluZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUGFyc2UgdGhlIGdpdmVuIHN0cmluZyBpbiBJU08gODYwMSBmb3JtYXQgYW5kIHJldHVybiBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEZ1bmN0aW9uIGFjY2VwdHMgY29tcGxldGUgSVNPIDg2MDEgZm9ybWF0cyBhcyB3ZWxsIGFzIHBhcnRpYWwgaW1wbGVtZW50YXRpb25zLlxuICogSVNPIDg2MDE6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPXzg2MDFcbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXNuJ3QgYSBzdHJpbmcsIHRoZSBmdW5jdGlvbiBjYW5ub3QgcGFyc2UgdGhlIHN0cmluZyBvclxuICogdGhlIHZhbHVlcyBhcmUgaW52YWxpZCwgaXQgcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogIyMjIHYyLjAuMCBicmVha2luZyBjaGFuZ2VzOlxuICpcbiAqIC0gW0NoYW5nZXMgdGhhdCBhcmUgY29tbW9uIGZvciB0aGUgd2hvbGUgbGlicmFyeV0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdXBncmFkZUd1aWRlLm1kI0NvbW1vbi1DaGFuZ2VzKS5cbiAqXG4gKiAtIFRoZSBwcmV2aW91cyBgcGFyc2VgIGltcGxlbWVudGF0aW9uIHdhcyByZW5hbWVkIHRvIGBwYXJzZUlTT2AuXG4gKlxuICogICBgYGBqYXZhc2NyaXB0XG4gKiAgIC8vIEJlZm9yZSB2Mi4wLjBcbiAqICAgcGFyc2UoJzIwMTYtMDEtMDEnKVxuICpcbiAqICAgLy8gdjIuMC4wIG9ud2FyZFxuICogICBwYXJzZUlTTygnMjAxNi0wMS0wMScpXG4gKiAgIGBgYFxuICpcbiAqIC0gYHBhcnNlSVNPYCBub3cgdmFsaWRhdGVzIHNlcGFyYXRlIGRhdGUgYW5kIHRpbWUgdmFsdWVzIGluIElTTy04NjAxIHN0cmluZ3NcbiAqICAgYW5kIHJldHVybnMgYEludmFsaWQgRGF0ZWAgaWYgdGhlIGRhdGUgaXMgaW52YWxpZC5cbiAqXG4gKiAgIGBgYGphdmFzY3JpcHRcbiAqICAgcGFyc2VJU08oJzIwMTgtMTMtMzInKVxuICogICAvLz0+IEludmFsaWQgRGF0ZVxuICogICBgYGBcbiAqXG4gKiAtIGBwYXJzZUlTT2Agbm93IGRvZXNuJ3QgZmFsbCBiYWNrIHRvIGBuZXcgRGF0ZWAgY29uc3RydWN0b3JcbiAqICAgaWYgaXQgZmFpbHMgdG8gcGFyc2UgYSBzdHJpbmcgYXJndW1lbnQuIEluc3RlYWQsIGl0IHJldHVybnMgYEludmFsaWQgRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHswfDF8Mn0gW29wdGlvbnMuYWRkaXRpb25hbERpZ2l0cz0yXSAtIHRoZSBhZGRpdGlvbmFsIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGV4dGVuZGVkIHllYXIgZm9ybWF0XG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMuYWRkaXRpb25hbERpZ2l0c2AgbXVzdCBiZSAwLCAxIG9yIDJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCBzdHJpbmcgJzIwMTQtMDItMTFUMTE6MzA6MzAnIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBwYXJzZUlTTygnMjAxNC0wMi0xMVQxMTozMDozMCcpXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb252ZXJ0IHN0cmluZyAnKzAyMDE0MTAxJyB0byBkYXRlLFxuICogLy8gaWYgdGhlIGFkZGl0aW9uYWwgbnVtYmVyIG9mIGRpZ2l0cyBpbiB0aGUgZXh0ZW5kZWQgeWVhciBmb3JtYXQgaXMgMTpcbiAqIGNvbnN0IHJlc3VsdCA9IHBhcnNlSVNPKCcrMDIwMTQxMDEnLCB7IGFkZGl0aW9uYWxEaWdpdHM6IDEgfSlcbiAqIC8vPT4gRnJpIEFwciAxMSAyMDE0IDAwOjAwOjAwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VJU08oYXJndW1lbnQsIGRpcnR5T3B0aW9ucykge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIG9wdGlvbnMgPSBkaXJ0eU9wdGlvbnMgfHwge307XG4gIHZhciBhZGRpdGlvbmFsRGlnaXRzID0gb3B0aW9ucy5hZGRpdGlvbmFsRGlnaXRzID09IG51bGwgPyAyIDogdG9JbnRlZ2VyKG9wdGlvbnMuYWRkaXRpb25hbERpZ2l0cyk7XG5cbiAgaWYgKGFkZGl0aW9uYWxEaWdpdHMgIT09IDIgJiYgYWRkaXRpb25hbERpZ2l0cyAhPT0gMSAmJiBhZGRpdGlvbmFsRGlnaXRzICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2FkZGl0aW9uYWxEaWdpdHMgbXVzdCBiZSAwLCAxIG9yIDInKTtcbiAgfVxuXG4gIGlmICghKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cblxuICB2YXIgZGF0ZVN0cmluZ3MgPSBzcGxpdERhdGVTdHJpbmcoYXJndW1lbnQpO1xuICB2YXIgZGF0ZTtcblxuICBpZiAoZGF0ZVN0cmluZ3MuZGF0ZSkge1xuICAgIHZhciBwYXJzZVllYXJSZXN1bHQgPSBwYXJzZVllYXIoZGF0ZVN0cmluZ3MuZGF0ZSwgYWRkaXRpb25hbERpZ2l0cyk7XG4gICAgZGF0ZSA9IHBhcnNlRGF0ZShwYXJzZVllYXJSZXN1bHQucmVzdERhdGVTdHJpbmcsIHBhcnNlWWVhclJlc3VsdC55ZWFyKTtcbiAgfVxuXG4gIGlmICghZGF0ZSB8fCBpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxuXG4gIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcbiAgdmFyIHRpbWUgPSAwO1xuICB2YXIgb2Zmc2V0O1xuXG4gIGlmIChkYXRlU3RyaW5ncy50aW1lKSB7XG4gICAgdGltZSA9IHBhcnNlVGltZShkYXRlU3RyaW5ncy50aW1lKTtcblxuICAgIGlmIChpc05hTih0aW1lKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGVTdHJpbmdzLnRpbWV6b25lKSB7XG4gICAgb2Zmc2V0ID0gcGFyc2VUaW1lem9uZShkYXRlU3RyaW5ncy50aW1lem9uZSk7XG5cbiAgICBpZiAoaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBkaXJ0eURhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXAgKyB0aW1lKTsgLy8ganMgcGFyc2VkIHN0cmluZyBhc3N1bWluZyBpdCdzIGluIFVUQyB0aW1lem9uZVxuICAgIC8vIGJ1dCB3ZSBuZWVkIGl0IHRvIGJlIHBhcnNlZCBpbiBvdXIgdGltZXpvbmVcbiAgICAvLyBzbyB3ZSB1c2UgdXRjIHZhbHVlcyB0byBidWlsZCBkYXRlIGluIG91ciB0aW1lem9uZS5cbiAgICAvLyBZZWFyIHZhbHVlcyBmcm9tIDAgdG8gOTkgbWFwIHRvIHRoZSB5ZWFycyAxOTAwIHRvIDE5OTlcbiAgICAvLyBzbyBzZXQgeWVhciBleHBsaWNpdGx5IHdpdGggc2V0RnVsbFllYXIuXG5cbiAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoMCk7XG4gICAgcmVzdWx0LnNldEZ1bGxZZWFyKGRpcnR5RGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkaXJ0eURhdGUuZ2V0VVRDTW9udGgoKSwgZGlydHlEYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmVzdWx0LnNldEhvdXJzKGRpcnR5RGF0ZS5nZXRVVENIb3VycygpLCBkaXJ0eURhdGUuZ2V0VVRDTWludXRlcygpLCBkaXJ0eURhdGUuZ2V0VVRDU2Vjb25kcygpLCBkaXJ0eURhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wICsgdGltZSArIG9mZnNldCk7XG59XG52YXIgcGF0dGVybnMgPSB7XG4gIGRhdGVUaW1lRGVsaW1pdGVyOiAvW1QgXS8sXG4gIHRpbWVab25lRGVsaW1pdGVyOiAvW1ogXS9pLFxuICB0aW1lem9uZTogLyhbWistXS4qKSQvXG59O1xudmFyIGRhdGVSZWdleCA9IC9eLT8oPzooXFxkezN9KXwoXFxkezJ9KSg/Oi0/KFxcZHsyfSkpP3xXKFxcZHsyfSkoPzotPyhcXGR7MX0pKT98KSQvO1xudmFyIHRpbWVSZWdleCA9IC9eKFxcZHsyfSg/OlsuLF1cXGQqKT8pKD86Oj8oXFxkezJ9KD86Wy4sXVxcZCopPykpPyg/Ojo/KFxcZHsyfSg/OlsuLF1cXGQqKT8pKT8kLztcbnZhciB0aW1lem9uZVJlZ2V4ID0gL14oWystXSkoXFxkezJ9KSg/Ojo/KFxcZHsyfSkpPyQvO1xuXG5mdW5jdGlvbiBzcGxpdERhdGVTdHJpbmcoZGF0ZVN0cmluZykge1xuICB2YXIgZGF0ZVN0cmluZ3MgPSB7fTtcbiAgdmFyIGFycmF5ID0gZGF0ZVN0cmluZy5zcGxpdChwYXR0ZXJucy5kYXRlVGltZURlbGltaXRlcik7XG4gIHZhciB0aW1lU3RyaW5nOyAvLyBUaGUgcmVnZXggbWF0Y2ggc2hvdWxkIG9ubHkgcmV0dXJuIGF0IG1heGltdW0gdHdvIGFycmF5IGVsZW1lbnRzLlxuICAvLyBbZGF0ZV0sIFt0aW1lXSwgb3IgW2RhdGUsIHRpbWVdLlxuXG4gIGlmIChhcnJheS5sZW5ndGggPiAyKSB7XG4gICAgcmV0dXJuIGRhdGVTdHJpbmdzO1xuICB9XG5cbiAgaWYgKC86Ly50ZXN0KGFycmF5WzBdKSkge1xuICAgIHRpbWVTdHJpbmcgPSBhcnJheVswXTtcbiAgfSBlbHNlIHtcbiAgICBkYXRlU3RyaW5ncy5kYXRlID0gYXJyYXlbMF07XG4gICAgdGltZVN0cmluZyA9IGFycmF5WzFdO1xuXG4gICAgaWYgKHBhdHRlcm5zLnRpbWVab25lRGVsaW1pdGVyLnRlc3QoZGF0ZVN0cmluZ3MuZGF0ZSkpIHtcbiAgICAgIGRhdGVTdHJpbmdzLmRhdGUgPSBkYXRlU3RyaW5nLnNwbGl0KHBhdHRlcm5zLnRpbWVab25lRGVsaW1pdGVyKVswXTtcbiAgICAgIHRpbWVTdHJpbmcgPSBkYXRlU3RyaW5nLnN1YnN0cihkYXRlU3RyaW5ncy5kYXRlLmxlbmd0aCwgZGF0ZVN0cmluZy5sZW5ndGgpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aW1lU3RyaW5nKSB7XG4gICAgdmFyIHRva2VuID0gcGF0dGVybnMudGltZXpvbmUuZXhlYyh0aW1lU3RyaW5nKTtcblxuICAgIGlmICh0b2tlbikge1xuICAgICAgZGF0ZVN0cmluZ3MudGltZSA9IHRpbWVTdHJpbmcucmVwbGFjZSh0b2tlblsxXSwgJycpO1xuICAgICAgZGF0ZVN0cmluZ3MudGltZXpvbmUgPSB0b2tlblsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF0ZVN0cmluZ3MudGltZSA9IHRpbWVTdHJpbmc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGVTdHJpbmdzO1xufVxuXG5mdW5jdGlvbiBwYXJzZVllYXIoZGF0ZVN0cmluZywgYWRkaXRpb25hbERpZ2l0cykge1xuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdeKD86KFxcXFxkezR9fFsrLV1cXFxcZHsnICsgKDQgKyBhZGRpdGlvbmFsRGlnaXRzKSArICd9KXwoXFxcXGR7Mn18WystXVxcXFxkeycgKyAoMiArIGFkZGl0aW9uYWxEaWdpdHMpICsgJ30pJCknKTtcbiAgdmFyIGNhcHR1cmVzID0gZGF0ZVN0cmluZy5tYXRjaChyZWdleCk7IC8vIEludmFsaWQgSVNPLWZvcm1hdHRlZCB5ZWFyXG5cbiAgaWYgKCFjYXB0dXJlcykgcmV0dXJuIHtcbiAgICB5ZWFyOiBOYU4sXG4gICAgcmVzdERhdGVTdHJpbmc6ICcnXG4gIH07XG4gIHZhciB5ZWFyID0gY2FwdHVyZXNbMV0gPyBwYXJzZUludChjYXB0dXJlc1sxXSkgOiBudWxsO1xuICB2YXIgY2VudHVyeSA9IGNhcHR1cmVzWzJdID8gcGFyc2VJbnQoY2FwdHVyZXNbMl0pIDogbnVsbDsgLy8gZWl0aGVyIHllYXIgb3IgY2VudHVyeSBpcyBudWxsLCBub3QgYm90aFxuXG4gIHJldHVybiB7XG4gICAgeWVhcjogY2VudHVyeSA9PT0gbnVsbCA/IHllYXIgOiBjZW50dXJ5ICogMTAwLFxuICAgIHJlc3REYXRlU3RyaW5nOiBkYXRlU3RyaW5nLnNsaWNlKChjYXB0dXJlc1sxXSB8fCBjYXB0dXJlc1syXSkubGVuZ3RoKVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZVN0cmluZywgeWVhcikge1xuICAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgeWVhclxuICBpZiAoeWVhciA9PT0gbnVsbCkgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIHZhciBjYXB0dXJlcyA9IGRhdGVTdHJpbmcubWF0Y2goZGF0ZVJlZ2V4KTsgLy8gSW52YWxpZCBJU08tZm9ybWF0dGVkIHN0cmluZ1xuXG4gIGlmICghY2FwdHVyZXMpIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB2YXIgaXNXZWVrRGF0ZSA9ICEhY2FwdHVyZXNbNF07XG4gIHZhciBkYXlPZlllYXIgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzFdKTtcbiAgdmFyIG1vbnRoID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1syXSkgLSAxO1xuICB2YXIgZGF5ID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1szXSk7XG4gIHZhciB3ZWVrID0gcGFyc2VEYXRlVW5pdChjYXB0dXJlc1s0XSk7XG4gIHZhciBkYXlPZldlZWsgPSBwYXJzZURhdGVVbml0KGNhcHR1cmVzWzVdKSAtIDE7XG5cbiAgaWYgKGlzV2Vla0RhdGUpIHtcbiAgICBpZiAoIXZhbGlkYXRlV2Vla0RhdGUoeWVhciwgd2VlaywgZGF5T2ZXZWVrKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRheU9mSVNPV2Vla1llYXIoeWVhciwgd2VlaywgZGF5T2ZXZWVrKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuXG4gICAgaWYgKCF2YWxpZGF0ZURhdGUoeWVhciwgbW9udGgsIGRheSkgfHwgIXZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICB9XG5cbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHllYXIsIG1vbnRoLCBNYXRoLm1heChkYXlPZlllYXIsIGRheSkpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF0ZVVuaXQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gcGFyc2VJbnQodmFsdWUpIDogMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lKHRpbWVTdHJpbmcpIHtcbiAgdmFyIGNhcHR1cmVzID0gdGltZVN0cmluZy5tYXRjaCh0aW1lUmVnZXgpO1xuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4gTmFOOyAvLyBJbnZhbGlkIElTTy1mb3JtYXR0ZWQgdGltZVxuXG4gIHZhciBob3VycyA9IHBhcnNlVGltZVVuaXQoY2FwdHVyZXNbMV0pO1xuICB2YXIgbWludXRlcyA9IHBhcnNlVGltZVVuaXQoY2FwdHVyZXNbMl0pO1xuICB2YXIgc2Vjb25kcyA9IHBhcnNlVGltZVVuaXQoY2FwdHVyZXNbM10pO1xuXG4gIGlmICghdmFsaWRhdGVUaW1lKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICByZXR1cm4gaG91cnMgKiBtaWxsaXNlY29uZHNJbkhvdXIgKyBtaW51dGVzICogbWlsbGlzZWNvbmRzSW5NaW51dGUgKyBzZWNvbmRzICogMTAwMDtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lVW5pdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgcGFyc2VGbG9hdCh2YWx1ZS5yZXBsYWNlKCcsJywgJy4nKSkgfHwgMDtcbn1cblxuZnVuY3Rpb24gcGFyc2VUaW1lem9uZSh0aW1lem9uZVN0cmluZykge1xuICBpZiAodGltZXpvbmVTdHJpbmcgPT09ICdaJykgcmV0dXJuIDA7XG4gIHZhciBjYXB0dXJlcyA9IHRpbWV6b25lU3RyaW5nLm1hdGNoKHRpbWV6b25lUmVnZXgpO1xuICBpZiAoIWNhcHR1cmVzKSByZXR1cm4gMDtcbiAgdmFyIHNpZ24gPSBjYXB0dXJlc1sxXSA9PT0gJysnID8gLTEgOiAxO1xuICB2YXIgaG91cnMgPSBwYXJzZUludChjYXB0dXJlc1syXSk7XG4gIHZhciBtaW51dGVzID0gY2FwdHVyZXNbM10gJiYgcGFyc2VJbnQoY2FwdHVyZXNbM10pIHx8IDA7XG5cbiAgaWYgKCF2YWxpZGF0ZVRpbWV6b25lKGhvdXJzLCBtaW51dGVzKSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cblxuICByZXR1cm4gc2lnbiAqIChob3VycyAqIG1pbGxpc2Vjb25kc0luSG91ciArIG1pbnV0ZXMgKiBtaWxsaXNlY29uZHNJbk1pbnV0ZSk7XG59XG5cbmZ1bmN0aW9uIGRheU9mSVNPV2Vla1llYXIoaXNvV2Vla1llYXIsIHdlZWssIGRheSkge1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApO1xuICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGlzb1dlZWtZZWFyLCAwLCA0KTtcbiAgdmFyIGZvdXJ0aE9mSmFudWFyeURheSA9IGRhdGUuZ2V0VVRDRGF5KCkgfHwgNztcbiAgdmFyIGRpZmYgPSAod2VlayAtIDEpICogNyArIGRheSArIDEgLSBmb3VydGhPZkphbnVhcnlEYXk7XG4gIGRhdGUuc2V0VVRDRGF0ZShkYXRlLmdldFVUQ0RhdGUoKSArIGRpZmYpO1xuICByZXR1cm4gZGF0ZTtcbn0gLy8gVmFsaWRhdGlvbiBmdW5jdGlvbnNcbi8vIEZlYnJ1YXJ5IGlzIG51bGwgdG8gaGFuZGxlIHRoZSBsZWFwIHllYXIgKHVzaW5nIHx8KVxuXG5cbnZhciBkYXlzSW5Nb250aHMgPSBbMzEsIG51bGwsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcblxuZnVuY3Rpb24gaXNMZWFwWWVhckluZGV4KHllYXIpIHtcbiAgcmV0dXJuIHllYXIgJSA0MDAgPT09IDAgfHwgeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEYXRlKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gIHJldHVybiBtb250aCA+PSAwICYmIG1vbnRoIDw9IDExICYmIGRhdGUgPj0gMSAmJiBkYXRlIDw9IChkYXlzSW5Nb250aHNbbW9udGhdIHx8IChpc0xlYXBZZWFySW5kZXgoeWVhcikgPyAyOSA6IDI4KSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGF5T2ZZZWFyRGF0ZSh5ZWFyLCBkYXlPZlllYXIpIHtcbiAgcmV0dXJuIGRheU9mWWVhciA+PSAxICYmIGRheU9mWWVhciA8PSAoaXNMZWFwWWVhckluZGV4KHllYXIpID8gMzY2IDogMzY1KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVXZWVrRGF0ZShfeWVhciwgd2VlaywgZGF5KSB7XG4gIHJldHVybiB3ZWVrID49IDEgJiYgd2VlayA8PSA1MyAmJiBkYXkgPj0gMCAmJiBkYXkgPD0gNjtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVUaW1lKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSB7XG4gIGlmIChob3VycyA9PT0gMjQpIHtcbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCAmJiBzZWNvbmRzID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIHNlY29uZHMgPj0gMCAmJiBzZWNvbmRzIDwgNjAgJiYgbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCAmJiBob3VycyA+PSAwICYmIGhvdXJzIDwgMjU7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlVGltZXpvbmUoX2hvdXJzLCBtaW51dGVzKSB7XG4gIHJldHVybiBtaW51dGVzID49IDAgJiYgbWludXRlcyA8PSA1OTtcbn0iLCJpbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSB0b0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIERhdGUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0cyBjbG9uZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBudW1iZXIsIGl0IGlzIHRyZWF0ZWQgYXMgYSB0aW1lc3RhbXAuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIG5vbmUgb2YgdGhlIGFib3ZlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogKipOb3RlKio6ICphbGwqIERhdGUgYXJndW1lbnRzIHBhc3NlZCB0byBhbnkgKmRhdGUtZm5zKiBmdW5jdGlvbiBpcyBwcm9jZXNzZWQgYnkgYHRvRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gYXJndW1lbnQgLSB0aGUgdmFsdWUgdG8gY29udmVydFxuICogQHJldHVybnMge0RhdGV9IHRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ2xvbmUgdGhlIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUobmV3IERhdGUoMjAxNCwgMSwgMTEsIDExLCAzMCwgMzApKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCB0aGUgdGltZXN0YW1wIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUoMTM5MjA5ODQzMDAwMClcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9EYXRlKGFyZ3VtZW50KSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTsgLy8gQ2xvbmUgdGhlIGRhdGVcblxuICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gJ29iamVjdCcgJiYgYXJnU3RyID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQuZ2V0VGltZSgpKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICdudW1iZXInIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgTnVtYmVyXScpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoYXJndW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgodHlwZW9mIGFyZ3VtZW50ID09PSAnc3RyaW5nJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IFN0cmluZ10nKSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXCJTdGFydGluZyB3aXRoIHYyLjAuMC1iZXRhLjEgZGF0ZS1mbnMgZG9lc24ndCBhY2NlcHQgc3RyaW5ncyBhcyBkYXRlIGFyZ3VtZW50cy4gUGxlYXNlIHVzZSBgcGFyc2VJU09gIHRvIHBhcnNlIHN0cmluZ3MuIFNlZTogaHR0cHM6Ly9naXQuaW8vZmp1bGVcIik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cbiAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGNvbXBhcmVBc2NcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29tcGFyZSB0aGUgdHdvIGRhdGVzIGFuZCByZXR1cm4gLTEsIDAgb3IgMS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBhcmUgdGhlIHR3byBkYXRlcyBhbmQgcmV0dXJuIDEgaWYgdGhlIGZpcnN0IGRhdGUgaXMgYWZ0ZXIgdGhlIHNlY29uZCxcbiAqIC0xIGlmIHRoZSBmaXJzdCBkYXRlIGlzIGJlZm9yZSB0aGUgc2Vjb25kIG9yIDAgaWYgZGF0ZXMgYXJlIGVxdWFsLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY29tcGFyZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIHJlc3VsdCBvZiB0aGUgY29tcGFyaXNvblxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb21wYXJlIDExIEZlYnJ1YXJ5IDE5ODcgYW5kIDEwIEp1bHkgMTk4OTpcbiAqIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmVBc2MobmV3IERhdGUoMTk4NywgMSwgMTEpLCBuZXcgRGF0ZSgxOTg5LCA2LCAxMCkpXG4gKiAvLz0+IC0xXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFNvcnQgdGhlIGFycmF5IG9mIGRhdGVzOlxuICogY29uc3QgcmVzdWx0ID0gW1xuICogICBuZXcgRGF0ZSgxOTk1LCA2LCAyKSxcbiAqICAgbmV3IERhdGUoMTk4NywgMSwgMTEpLFxuICogICBuZXcgRGF0ZSgxOTg5LCA2LCAxMClcbiAqIF0uc29ydChjb21wYXJlQXNjKVxuICogLy89PiBbXG4gKiAvLyAgIFdlZCBGZWIgMTEgMTk4NyAwMDowMDowMCxcbiAqIC8vICAgTW9uIEp1bCAxMCAxOTg5IDAwOjAwOjAwLFxuICogLy8gICBTdW4gSnVsIDAyIDE5OTUgMDA6MDA6MDBcbiAqIC8vIF1cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wYXJlQXNjKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnQgPSB0b0RhdGUoZGlydHlEYXRlTGVmdCk7XG4gIHZhciBkYXRlUmlnaHQgPSB0b0RhdGUoZGlydHlEYXRlUmlnaHQpO1xuICB2YXIgZGlmZiA9IGRhdGVMZWZ0LmdldFRpbWUoKSAtIGRhdGVSaWdodC5nZXRUaW1lKCk7XG5cbiAgaWYgKGRpZmYgPCAwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgcmV0dXJuIDE7IC8vIFJldHVybiAwIGlmIGRpZmYgaXMgMDsgcmV0dXJuIE5hTiBpZiBkaWZmIGlzIE5hTlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBkaWZmO1xuICB9XG59IiwiaW1wb3J0IHRvSW50ZWdlciBmcm9tIFwiLi4vX2xpYi90b0ludGVnZXIvaW5kZXguanNcIjtcbmltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgYWRkRGF5c1xuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBZGQgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgZGF5cyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFkZCB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkYXlzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRvIGJlIGNoYW5nZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGRheXMgdG8gYmUgYWRkZWQuIFBvc2l0aXZlIGRlY2ltYWxzIHdpbGwgYmUgcm91bmRlZCB1c2luZyBgTWF0aC5mbG9vcmAsIGRlY2ltYWxzIGxlc3MgdGhhbiB6ZXJvIHdpbGwgYmUgcm91bmRlZCB1c2luZyBgTWF0aC5jZWlsYC5cbiAqIEByZXR1cm5zIHtEYXRlfSAtIHRoZSBuZXcgZGF0ZSB3aXRoIHRoZSBkYXlzIGFkZGVkXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IC0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQWRkIDEwIGRheXMgdG8gMSBTZXB0ZW1iZXIgMjAxNDpcbiAqIGNvbnN0IHJlc3VsdCA9IGFkZERheXMobmV3IERhdGUoMjAxNCwgOCwgMSksIDEwKVxuICogLy89PiBUaHUgU2VwIDExIDIwMTQgMDA6MDA6MDBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGREYXlzKGRpcnR5RGF0ZSwgZGlydHlBbW91bnQpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBhbW91bnQgPSB0b0ludGVnZXIoZGlydHlBbW91bnQpO1xuXG4gIGlmIChpc05hTihhbW91bnQpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cblxuICBpZiAoIWFtb3VudCkge1xuICAgIC8vIElmIDAgZGF5cywgbm8tb3AgdG8gYXZvaWQgY2hhbmdpbmcgdGltZXMgaW4gdGhlIGhvdXIgYmVmb3JlIGVuZCBvZiBEU1RcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuXG4gIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGFtb3VudCk7XG4gIHJldHVybiBkYXRlO1xufSIsImltcG9ydCB0b0ludGVnZXIgZnJvbSBcIi4uL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCI7XG5pbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGFkZE1vbnRoc1xuICogQGNhdGVnb3J5IE1vbnRoIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFkZCB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBtb250aHMgdG8gdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBZGQgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgbW9udGhzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRvIGJlIGNoYW5nZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIG1vbnRocyB0byBiZSBhZGRlZC4gUG9zaXRpdmUgZGVjaW1hbHMgd2lsbCBiZSByb3VuZGVkIHVzaW5nIGBNYXRoLmZsb29yYCwgZGVjaW1hbHMgbGVzcyB0aGFuIHplcm8gd2lsbCBiZSByb3VuZGVkIHVzaW5nIGBNYXRoLmNlaWxgLlxuICogQHJldHVybnMge0RhdGV9IHRoZSBuZXcgZGF0ZSB3aXRoIHRoZSBtb250aHMgYWRkZWRcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQWRkIDUgbW9udGhzIHRvIDEgU2VwdGVtYmVyIDIwMTQ6XG4gKiBjb25zdCByZXN1bHQgPSBhZGRNb250aHMobmV3IERhdGUoMjAxNCwgOCwgMSksIDUpXG4gKiAvLz0+IFN1biBGZWIgMDEgMjAxNSAwMDowMDowMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZE1vbnRocyhkaXJ0eURhdGUsIGRpcnR5QW1vdW50KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICB2YXIgYW1vdW50ID0gdG9JbnRlZ2VyKGRpcnR5QW1vdW50KTtcblxuICBpZiAoaXNOYU4oYW1vdW50KSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG5cbiAgaWYgKCFhbW91bnQpIHtcbiAgICAvLyBJZiAwIG1vbnRocywgbm8tb3AgdG8gYXZvaWQgY2hhbmdpbmcgdGltZXMgaW4gdGhlIGhvdXIgYmVmb3JlIGVuZCBvZiBEU1RcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuXG4gIHZhciBkYXlPZk1vbnRoID0gZGF0ZS5nZXREYXRlKCk7IC8vIFRoZSBKUyBEYXRlIG9iamVjdCBzdXBwb3J0cyBkYXRlIG1hdGggYnkgYWNjZXB0aW5nIG91dC1vZi1ib3VuZHMgdmFsdWVzIGZvclxuICAvLyBtb250aCwgZGF5LCBldGMuIEZvciBleGFtcGxlLCBuZXcgRGF0ZSgyMDIwLCAwLCAwKSByZXR1cm5zIDMxIERlYyAyMDE5IGFuZFxuICAvLyBuZXcgRGF0ZSgyMDIwLCAxMywgMSkgcmV0dXJucyAxIEZlYiAyMDIxLiAgVGhpcyBpcyAqYWxtb3N0KiB0aGUgYmVoYXZpb3Igd2VcbiAgLy8gd2FudCBleGNlcHQgdGhhdCBkYXRlcyB3aWxsIHdyYXAgYXJvdW5kIHRoZSBlbmQgb2YgYSBtb250aCwgbWVhbmluZyB0aGF0XG4gIC8vIG5ldyBEYXRlKDIwMjAsIDEzLCAzMSkgd2lsbCByZXR1cm4gMyBNYXIgMjAyMSBub3QgMjggRmViIDIwMjEgYXMgZGVzaXJlZC4gU29cbiAgLy8gd2UnbGwgZGVmYXVsdCB0byB0aGUgZW5kIG9mIHRoZSBkZXNpcmVkIG1vbnRoIGJ5IGFkZGluZyAxIHRvIHRoZSBkZXNpcmVkXG4gIC8vIG1vbnRoIGFuZCB1c2luZyBhIGRhdGUgb2YgMCB0byBiYWNrIHVwIG9uZSBkYXkgdG8gdGhlIGVuZCBvZiB0aGUgZGVzaXJlZFxuICAvLyBtb250aC5cblxuICB2YXIgZW5kT2ZEZXNpcmVkTW9udGggPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gIGVuZE9mRGVzaXJlZE1vbnRoLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIGFtb3VudCArIDEsIDApO1xuICB2YXIgZGF5c0luTW9udGggPSBlbmRPZkRlc2lyZWRNb250aC5nZXREYXRlKCk7XG5cbiAgaWYgKGRheU9mTW9udGggPj0gZGF5c0luTW9udGgpIHtcbiAgICAvLyBJZiB3ZSdyZSBhbHJlYWR5IGF0IHRoZSBlbmQgb2YgdGhlIG1vbnRoLCB0aGVuIHRoaXMgaXMgdGhlIGNvcnJlY3QgZGF0ZVxuICAgIC8vIGFuZCB3ZSdyZSBkb25lLlxuICAgIHJldHVybiBlbmRPZkRlc2lyZWRNb250aDtcbiAgfSBlbHNlIHtcbiAgICAvLyBPdGhlcndpc2UsIHdlIG5vdyBrbm93IHRoYXQgc2V0dGluZyB0aGUgb3JpZ2luYWwgZGF5LW9mLW1vbnRoIHZhbHVlIHdvbid0XG4gICAgLy8gY2F1c2UgYW4gb3ZlcmZsb3csIHNvIHNldCB0aGUgZGVzaXJlZCBkYXktb2YtbW9udGguIE5vdGUgdGhhdCB3ZSBjYW4ndFxuICAgIC8vIGp1c3Qgc2V0IHRoZSBkYXRlIG9mIGBlbmRPZkRlc2lyZWRNb250aGAgYmVjYXVzZSB0aGF0IG9iamVjdCBtYXkgaGF2ZSBoYWRcbiAgICAvLyBpdHMgdGltZSBjaGFuZ2VkIGluIHRoZSB1bnVzdWFsIGNhc2Ugd2hlcmUgd2hlcmUgYSBEU1QgdHJhbnNpdGlvbiB3YXMgb25cbiAgICAvLyB0aGUgbGFzdCBkYXkgb2YgdGhlIG1vbnRoIGFuZCBpdHMgbG9jYWwgdGltZSB3YXMgaW4gdGhlIGhvdXIgc2tpcHBlZCBvclxuICAgIC8vIHJlcGVhdGVkIG5leHQgdG8gYSBEU1QgdHJhbnNpdGlvbi4gIFNvIHdlIHVzZSBgZGF0ZWAgaW5zdGVhZCB3aGljaCBpc1xuICAgIC8vIGd1YXJhbnRlZWQgdG8gc3RpbGwgaGF2ZSB0aGUgb3JpZ2luYWwgdGltZS5cbiAgICBkYXRlLnNldEZ1bGxZZWFyKGVuZE9mRGVzaXJlZE1vbnRoLmdldEZ1bGxZZWFyKCksIGVuZE9mRGVzaXJlZE1vbnRoLmdldE1vbnRoKCksIGRheU9mTW9udGgpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG59IiwiaW1wb3J0IHtTdG9yYWdlfSBmcm9tIFwiLi9zdG9yYWdlLmpzXCI7XG5pbXBvcnQge1Rhc2ssIFByb2plY3R9IGZyb20gXCIuL2ZhY3Rvcmllcy5qc1wiO1xuXG5jb25zdCByZWNvbnN0cnVjdGVkUHJvamVjdExpc3QgPSAoKSA9PiB7XG4gICAgbGV0IHJlY29uc3RydWN0ZWQgPSBbXTtcbiAgICBsZXQgZnJvbVN0b3JhZ2UgPSBTdG9yYWdlLmdldERhdGEoKTtcbiAgICBmcm9tU3RvcmFnZS5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgIGxldCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QocHJvamVjdC5uYW1lLCBwcm9qZWN0LmNvbG9yKTtcbiAgICAgICAgbGV0IHRhc2tMaXN0ID0gcHJvamVjdC50YXNrcztcbiAgICAgICAgdGFza0xpc3QuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICAgICAgbmV3UHJvamVjdC5hZGRUYXNrKG5ldyBUYXNrKHRhc2submFtZSwgdGFzay5kYXRlLCB0YXNrLmRvbmUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlY29uc3RydWN0ZWQucHVzaChuZXdQcm9qZWN0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVjb25zdHJ1Y3RlZDtcbn07XG5cbmV4cG9ydCB7cmVjb25zdHJ1Y3RlZFByb2plY3RMaXN0fTsiLCJpbXBvcnQge1N0b3JhZ2V9IGZyb20gXCIuL3N0b3JhZ2UuanNcIjtcbmltcG9ydCB7YWRkLCBjb21wYXJlQXNjLCBwYXJzZUlTT30gZnJvbSBcImRhdGUtZm5zXCI7XG5pbXBvcnQge3JlY29uc3RydWN0ZWRQcm9qZWN0TGlzdH0gZnJvbSBcIi4vb2JqZWN0LW1ldGhvZHMuanNcIjtcbmltcG9ydCB7dGFza0VkaXRCdXR0b25MaXN0ZW5lcnMsIHByb2plY3RFZGl0TW9kYWx9IGZyb20gXCIuL21vZGFsLWNvbnRyb2xzLmpzXCI7XG5cbmNvbnN0IGFkZFByb2plY3RUb1VpID0gKG9iaikgPT4ge1xuICAgIGxldCBwYXJlbnRMaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBwYXJlbnRMaS5kYXRhc2V0LnByb2plY3QgPSBvYmoubmFtZTtcbiAgICBsZXQgbmFtZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGxldCBjb2xvckNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmFtZUNvbnRhaW5lci50ZXh0Q29udGVudCA9IG9iai5uYW1lO1xuICAgIGNvbG9yQ2lyY2xlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG9iai5jb2xvcjtcbiAgICBwYXJlbnRMaS5hcHBlbmRDaGlsZChjb2xvckNpcmNsZSk7XG4gICAgcGFyZW50TGkuYXBwZW5kQ2hpbGQobmFtZUNvbnRhaW5lcik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWNvbnRhaW5lciB1bFwiKS5hcHBlbmRDaGlsZChwYXJlbnRMaSk7XG59O1xuXG5jb25zdCBhZGRBbGxQcm9qZWN0c1RvVWkgPSAoKSA9PiB7XG4gICAgaWYgKFN0b3JhZ2UuZ2V0RGF0YSgpICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBwcm9qZWN0QXJyYXkgPSBTdG9yYWdlLmdldERhdGEoKTtcbiAgICAgICAgcHJvamVjdEFycmF5LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgIGFkZFByb2plY3RUb1VpKHByb2plY3QpO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuY29uc3QgYWRkVGFza3RvVWkgPSAob2JqLCBjb2xvciwgcHJvamVjdEluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICBsZXQgcGFyZW50TGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgcGFyZW50TGkuZGF0YXNldC5wcm9qZWN0SW5kZXggPSBwcm9qZWN0SW5kZXg7XG4gICAgcGFyZW50TGkuZGF0YXNldC50YXNrSW5kZXggPSB0YXNrSW5kZXg7XG4gICAgbGV0IGNvbG9yQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbG9yQmxvY2suY2xhc3NMaXN0LmFkZChcImNvbG9yLWJsb2NrXCIpO1xuICAgIGNvbG9yQmxvY2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRhc2stY29udGFpbmVyXCIpO1xuICAgIGxldCB0YXNrQW5kQ2hlY2tib3hEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRhc2tBbmRDaGVja2JveERpdi5jbGFzc0xpc3QuYWRkKFwidGFzay1hbmQtY2hlY2tib3hcIik7XG4gICAgbGV0IGNoZWNrYm94RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjaGVja2JveERpdi5jbGFzc0xpc3QuYWRkKFwiY2hlY2tib3hcIik7XG4gICAgaWYgKG9iai5kb25lID09PSB0cnVlKSB7XG4gICAgICAgIGNoZWNrYm94RGl2LmNsYXNzTGlzdC5hZGQoXCJjaGVja2VkXCIpO1xuICAgICAgICBsZXQgY2hlY2tib3hJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBjaGVja2JveEltZy5zcmMgPSBcIi4vaW1nL2NoZWNrLnBuZ1wiO1xuICAgICAgICBjaGVja2JveERpdi5hcHBlbmRDaGlsZChjaGVja2JveEltZyk7XG4gICAgfTtcbiAgICBsZXQgdGFza05hbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRhc2tOYW1lRGl2LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLW5hbWVcIik7XG4gICAgdGFza05hbWVEaXYudGV4dENvbnRlbnQgPSBvYmoubmFtZTtcbiAgICBsZXQgZGF0ZUFuZEVkaXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRhdGVBbmRFZGl0RGl2LmNsYXNzTGlzdC5hZGQoXCJkYXRlLWFuZC1lZGl0XCIpO1xuICAgIGxldCBkYXRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRhdGVcIik7XG4gICAgZGF0ZURpdi5jbGFzc0xpc3QuYWRkKFwiZGF0ZVwiKTtcbiAgICBpZiAob2JqLmRhdGUgPT09IFwiXCIpIHtcbiAgICAgICAgZGF0ZURpdi50ZXh0Q29udGVudCA9IFwiTm8gZHVlIGRhdGVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlRGl2LnRleHRDb250ZW50ID0gb2JqLmRhdGU7XG4gICAgfTtcbiAgICBsZXQgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcInRhc2stZWRpdC1idXR0b25cIilcbiAgICBsZXQgZWRpdEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgZWRpdEltZy5zcmMgPSBcIi4vaW1nL2NyZWRpdC1jYXJkLWVkaXQucG5nXCI7XG4gICAgbGV0IHRyYXNoQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgbGV0IHRyYXNoSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICB0cmFzaEltZy5zcmMgPSBcIi4vaW1nL2RlbGV0ZS5wbmdcIjtcbiAgICBwYXJlbnRMaS5hcHBlbmRDaGlsZChjb2xvckJsb2NrKTtcbiAgICBwYXJlbnRMaS5hcHBlbmRDaGlsZCh0YXNrQ29udGFpbmVyKTtcbiAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tBbmRDaGVja2JveERpdik7XG4gICAgdGFza0FuZENoZWNrYm94RGl2LmFwcGVuZENoaWxkKGNoZWNrYm94RGl2KTtcbiAgICB0YXNrQW5kQ2hlY2tib3hEaXYuYXBwZW5kQ2hpbGQodGFza05hbWVEaXYpO1xuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGF0ZUFuZEVkaXREaXYpO1xuICAgIGRhdGVBbmRFZGl0RGl2LmFwcGVuZENoaWxkKGRhdGVEaXYpO1xuICAgIGVkaXRCdXR0b24uYXBwZW5kQ2hpbGQoZWRpdEltZyk7XG4gICAgdHJhc2hCdXR0b24uYXBwZW5kQ2hpbGQodHJhc2hJbWcpO1xuICAgIGRhdGVBbmRFZGl0RGl2LmFwcGVuZENoaWxkKGVkaXRCdXR0b24pO1xuICAgIGRhdGVBbmRFZGl0RGl2LmFwcGVuZENoaWxkKHRyYXNoQnV0dG9uKTtcbiAgICBpZiAob2JqLmRvbmUpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib3QtY29udGVudC1ibG9jayB1bFwiKS5hcHBlbmQocGFyZW50TGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYm90LWNvbnRlbnQtYmxvY2sgdWxcIikucHJlcGVuZChwYXJlbnRMaSk7XG5cbiAgICB9O1xufTtcblxuY29uc3QgYWRkQWxsVGFza3NUb1VpID0gKCkgPT4ge1xuICAgIGlmIChTdG9yYWdlLmdldERhdGEoKSAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgcHJvamVjdEFycmF5ID0gU3RvcmFnZS5nZXREYXRhKCk7XG4gICAgICAgIGxldCBwcm9qZWN0SW5kZXggPSAwO1xuICAgICAgICBwcm9qZWN0QXJyYXkuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHRhc2tDb2xvciA9IHByb2plY3QuY29sb3I7XG4gICAgICAgICAgICBsZXQgdGFza0luZGV4ID0gMDtcbiAgICAgICAgICAgIHByb2plY3QudGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICAgICAgICAgIGFkZFRhc2t0b1VpKHRhc2ssIHRhc2tDb2xvciwgcHJvamVjdEluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRhc2tJbmRleCsrO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9qZWN0SW5kZXgrKztcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5cbmNvbnN0IGFkZFRhc2tzRnJvbVByb2plY3QgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgICBpZiAoU3RvcmFnZS5nZXREYXRhKCkgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IHByb2plY3RBcnJheSA9IFN0b3JhZ2UuZ2V0RGF0YSgpO1xuICAgICAgICBsZXQgcHJvamVjdEluZGV4ID0gMDtcbiAgICAgICAgcHJvamVjdEFycmF5LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgICAgIGxldCB0YXNrSW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKHByb2plY3QubmFtZSA9PT0gcHJvamVjdE5hbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFza0NvbG9yID0gcHJvamVjdC5jb2xvcjtcbiAgICAgICAgICAgICAgICBwcm9qZWN0LnRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVGFza3RvVWkodGFzaywgdGFza0NvbG9yLCBwcm9qZWN0SW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tJbmRleCsrO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHByb2plY3RJbmRleCsrO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuY29uc3QgYWRkVG9kYXlzVGFza3MgPSAoKSA9PiB7XG4gICAgbGV0IHRvZGF5ID0gcGFyc2VJU08obmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXSk7XG4gICAgbGV0IHByb2plY3RBcnJheSA9IFN0b3JhZ2UuZ2V0RGF0YSgpO1xuICAgIGxldCBwcm9qZWN0SW5kZXggPSAwO1xuICAgIHByb2plY3RBcnJheS5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgIGxldCB0YXNrQ29sb3IgPSBwcm9qZWN0LmNvbG9yO1xuICAgICAgICBsZXQgdGFza0luZGV4ID0gMDtcbiAgICAgICAgcHJvamVjdC50YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29tcGFyZUFzYyhwYXJzZUlTTyh0YXNrLmRhdGUpLCB0b2RheSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGRUYXNrdG9VaSh0YXNrLCB0YXNrQ29sb3IsIHByb2plY3RJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrSW5kZXgrKztcbiAgICAgICAgfSk7XG4gICAgICAgIHByb2plY3RJbmRleCsrO1xuICAgIH0pO1xufTtcblxuY29uc3QgYWRkV2Vla3NUYXNrcyA9ICgpID0+IHtcbiAgICBsZXQgdG9kYXkgPSBwYXJzZUlTTyhuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdKTtcbiAgICBsZXQgd2Vla0Zyb21Ob3cgPSBhZGQodG9kYXksIHtcbiAgICAgICAgZGF5czogN1xuICAgIH0pO1xuICAgIGxldCBwcm9qZWN0QXJyYXkgPSBTdG9yYWdlLmdldERhdGEoKTtcbiAgICBsZXQgcHJvamVjdEluZGV4ID0gMDtcbiAgICBwcm9qZWN0QXJyYXkuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgICBsZXQgdGFza0NvbG9yID0gcHJvamVjdC5jb2xvcjtcbiAgICAgICAgbGV0IHRhc2tJbmRleCA9IDA7XG4gICAgICAgIHByb2plY3QudGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbXBhcmVBc2MocGFyc2VJU08odGFzay5kYXRlKSwgd2Vla0Zyb21Ob3cpID09PSAtMSAmJiBjb21wYXJlQXNjKHBhcnNlSVNPKHRhc2suZGF0ZSksIHRvZGF5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBhZGRUYXNrdG9VaSh0YXNrLCB0YXNrQ29sb3IsIHByb2plY3RJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrSW5kZXgrKztcbiAgICAgICAgfSk7XG4gICAgICAgIHByb2plY3RJbmRleCsrO1xuICAgIH0pO1xufTtcblxuY29uc3QgY2xlYXJUYXNrcyA9ICgpID0+IHtcbiAgICBsZXQgdGFza3NQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvdC1jb250ZW50LWJsb2NrIHVsXCIpO1xuICAgIHdoaWxlICh0YXNrc1BhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIHRhc2tzUGFyZW50LnJlbW92ZUNoaWxkKHRhc2tzUGFyZW50Lmxhc3RDaGlsZCk7XG4gICAgfTtcbn07XG5cbmNvbnN0IGNsZWFyUHJvamVjdHMgPSAoKSA9PiB7XG4gICAgbGV0IHByb2plY3RzUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWNvbnRhaW5lciB1bFwiKTtcbiAgICB3aGlsZSAocHJvamVjdHNQYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBwcm9qZWN0c1BhcmVudC5yZW1vdmVDaGlsZChwcm9qZWN0c1BhcmVudC5sYXN0Q2hpbGQpO1xuICAgIH07XG59O1xuXG5jb25zdCByZWZyZXNoUHJvamVjdHMgPSAoKSA9PiB7XG4gICAgY2xlYXJQcm9qZWN0cygpO1xuICAgIGFkZEFsbFByb2plY3RzVG9VaSgpO1xuICAgIHByb2plY3RMaXN0ZW5lcnMoKTtcbn07XG5cbmNvbnN0IHJlZnJlc2hDdXJyZW50VGFza3MgPSAoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRUYXNrTGlzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3QtbmFtZVwiKS50ZXh0Q29udGVudDtcbiAgICBzd2l0Y2ggKGN1cnJlbnRUYXNrTGlzdE5hbWUpIHtcbiAgICAgICAgY2FzZSBcIkFMTFwiOlxuICAgICAgICAgICAgY2xlYXJUYXNrcygpO1xuICAgICAgICAgICAgYWRkQWxsVGFza3NUb1VpKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlRPREFZXCI6XG4gICAgICAgICAgICBjbGVhclRhc2tzKCk7XG4gICAgICAgICAgICBhZGRUb2RheXNUYXNrcygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJXRUVLXCI6XG4gICAgICAgICAgICBjbGVhclRhc2tzKCk7XG4gICAgICAgICAgICBhZGRXZWVrc1Rhc2tzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNsZWFyVGFza3MoKTtcbiAgICAgICAgICAgIGFkZFRhc2tzRnJvbVByb2plY3QoY3VycmVudFRhc2tMaXN0TmFtZSk7XG4gICAgfTtcbiAgICB0YXNrQnV0dG9uTGlzdGVuZXJzKCk7XG59O1xuXG5jbGFzcyBIZWFkZXJFZGl0RGVsZXRlIHtcbiAgICBzdGF0aWMgYWRkKCkge1xuICAgICAgICBsZXQgcGFyZW50Q29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdC1lZGl0LWRlbGV0ZVwiKTtcbiAgICAgICAgbGV0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgZWRpdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRWRpdFwiO1xuICAgICAgICBsZXQgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRlXCI7XG4gICAgICAgIHBhcmVudENvbnQuYXBwZW5kKGVkaXRCdXR0b24pO1xuICAgICAgICBwYXJlbnRDb250LmFwcGVuZChkZWxldGVCdXR0b24pO1xuICAgIH07XG4gICAgc3RhdGljIGNsZWFyKCkge1xuICAgICAgICBsZXQgcGFyZW50Q29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdC1lZGl0LWRlbGV0ZVwiKTtcbiAgICAgICAgd2hpbGUgKHBhcmVudENvbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50Q29udC5yZW1vdmVDaGlsZChwYXJlbnRDb250Lmxhc3RDaGlsZCk7XG4gICAgICAgIH07XG4gICAgfTtcbn07XG5cbmNvbnN0IHByb2plY3REZWxldGVCdXR0b24gPSAoKSA9PiB7XG4gICAgbGV0IHByb2plY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b3AtY29udGVudC1ibG9jayBoMlwiKS50ZXh0Q29udGVudDtcbiAgICBsZXQgcHJvamVjdEFycmF5ID0gU3RvcmFnZS5nZXREYXRhKCk7XG4gICAgbGV0IHByb2plY3RJbmRleCA9IDA7XG4gICAgcHJvamVjdEFycmF5LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgaWYgKHByb2plY3QubmFtZSA9PT0gcHJvamVjdE5hbWUpIHtcbiAgICAgICAgICAgIHByb2plY3RBcnJheS5zcGxpY2UocHJvamVjdEluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvamVjdEluZGV4Kys7XG4gICAgfSk7XG4gICAgU3RvcmFnZS5zYXZlRGF0YShwcm9qZWN0QXJyYXkpO1xufTtcblxuY29uc3QgcHJvamVjdEVkaXREZWxldGVMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgbGV0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3QtZWRpdC1kZWxldGUgc3BhbjpmaXJzdC1jaGlsZFwiKTtcbiAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHByb2plY3RFZGl0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBsZXQgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5saXN0LWVkaXQtZGVsZXRlIHNwYW46bGFzdC1jaGlsZFwiKTtcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcHJvamVjdERlbGV0ZUJ1dHRvbigpO1xuICAgICAgICBjbGVhclRhc2tzKCk7XG4gICAgICAgIGxldCB0YXNrTGlzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3QtbmFtZVwiKTtcbiAgICAgICAgdGFza0xpc3ROYW1lLnRleHRDb250ZW50ID0gXCJBTExcIjtcbiAgICAgICAgYWRkQWxsVGFza3NUb1VpKCk7XG4gICAgICAgIHRhc2tCdXR0b25MaXN0ZW5lcnMoKTtcbiAgICAgICAgSGVhZGVyRWRpdERlbGV0ZS5jbGVhcigpO1xuICAgICAgICByZWZyZXNoUHJvamVjdHMoKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IHByb2plY3RMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgbGV0IHRhc2tMaXN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGlzdC1uYW1lXCIpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdC1jb250YWluZXIgdWwgbGlcIikuZm9yRWFjaCgocHJvamVjdENvbnQpID0+IHtcbiAgICAgICAgcHJvamVjdENvbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRhc2tzKCk7XG4gICAgICAgICAgICB0YXNrTGlzdE5hbWUudGV4dENvbnRlbnQgPSBTdHJpbmcoZS50YXJnZXQuY2xvc2VzdChcImxpXCIpLmRhdGFzZXQucHJvamVjdCk7XG4gICAgICAgICAgICBhZGRUYXNrc0Zyb21Qcm9qZWN0KGUudGFyZ2V0LmNsb3Nlc3QoXCJsaVwiKS5kYXRhc2V0LnByb2plY3QpO1xuICAgICAgICAgICAgdGFza0J1dHRvbkxpc3RlbmVycygpO1xuICAgICAgICAgICAgSGVhZGVyRWRpdERlbGV0ZS5jbGVhcigpO1xuICAgICAgICAgICAgSGVhZGVyRWRpdERlbGV0ZS5hZGQoKTtcbiAgICAgICAgICAgIHByb2plY3RFZGl0RGVsZXRlTGlzdGVuZXJzKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuY29uc3QgYWxsVG9kYXlXZWVrTGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIGxldCB0YXNrTGlzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3QtbmFtZVwiKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FsbC10YXNrc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjbGVhclRhc2tzKCk7XG4gICAgICAgIHRhc2tMaXN0TmFtZS50ZXh0Q29udGVudCA9IFwiQUxMXCI7XG4gICAgICAgIGFkZEFsbFRhc2tzVG9VaSgpO1xuICAgICAgICB0YXNrQnV0dG9uTGlzdGVuZXJzKCk7XG4gICAgICAgIEhlYWRlckVkaXREZWxldGUuY2xlYXIoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZGF5LXRhc2tzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGFza3MoKTtcbiAgICAgICAgdGFza0xpc3ROYW1lLnRleHRDb250ZW50ID0gXCJUT0RBWVwiO1xuICAgICAgICBhZGRUb2RheXNUYXNrcygpO1xuICAgICAgICB0YXNrQnV0dG9uTGlzdGVuZXJzKCk7XG4gICAgICAgIEhlYWRlckVkaXREZWxldGUuY2xlYXIoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dlZWstdGFza3NcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY2xlYXJUYXNrcygpO1xuICAgICAgICB0YXNrTGlzdE5hbWUudGV4dENvbnRlbnQgPSBcIldFRUtcIjtcbiAgICAgICAgYWRkV2Vla3NUYXNrcygpO1xuICAgICAgICB0YXNrQnV0dG9uTGlzdGVuZXJzKCk7XG4gICAgICAgIEhlYWRlckVkaXREZWxldGUuY2xlYXIoKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZURvbmVMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jaGVja2JveFwiKS5mb3JFYWNoKChjaGVja2JveCkgPT4ge1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrYm94LmNsYXNzTGlzdC5jb250YWlucyhcImNoZWNrZWRcIikpIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveC5yZW1vdmVDaGlsZChjaGVja2JveC5sYXN0Q2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hlY2tib3hJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgIGNoZWNrYm94SW1nLnNyYyA9IFwiLi9pbWcvY2hlY2sucG5nXCI7XG4gICAgICAgICAgICAgICAgY2hlY2tib3guYXBwZW5kQ2hpbGQoY2hlY2tib3hJbWcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCByZWNvbnN0cnVjdGVkUHJvamVjdEFycmF5ID0gcmVjb25zdHJ1Y3RlZFByb2plY3RMaXN0KCk7XG4gICAgICAgICAgICBsZXQgcHJvamVjdEluZGV4ID0gcGFyc2VJbnQoY2hlY2tib3gucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZGF0YXNldC5wcm9qZWN0SW5kZXgpO1xuICAgICAgICAgICAgbGV0IHRhc2tJbmRleCA9IHBhcnNlSW50KGNoZWNrYm94LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQudGFza0luZGV4KTtcbiAgICAgICAgICAgIHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS50YXNrc1t0YXNrSW5kZXhdLnRvZ2dsZURvbmUoKTtcbiAgICAgICAgICAgIFN0b3JhZ2Uuc2F2ZURhdGEocmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheSk7XG4gICAgICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QudG9nZ2xlKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBkZWxldGVCdXR0b25MaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kYXRlLWFuZC1lZGl0IHNwYW46bGFzdC1jaGlsZFwiKS5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheSA9IHJlY29uc3RydWN0ZWRQcm9qZWN0TGlzdCgpO1xuICAgICAgICAgICAgbGV0IHByb2plY3RJbmRleCA9IHBhcnNlSW50KGJ1dHRvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LnByb2plY3RJbmRleCk7XG4gICAgICAgICAgICBsZXQgdGFza0luZGV4ID0gcGFyc2VJbnQoYnV0dG9uLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQudGFza0luZGV4KTtcbiAgICAgICAgICAgIHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS50YXNrcy5zcGxpY2UodGFza0luZGV4LCAxKTtcbiAgICAgICAgICAgIFN0b3JhZ2Uuc2F2ZURhdGEocmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheSk7XG4gICAgICAgICAgICByZWZyZXNoQ3VycmVudFRhc2tzKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuY29uc3QgbW9iaWxlRHJvcGRvd25MaXN0ZW5lciA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5jbGllbnRXaWR0aCA8PSAxMDAwKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtY29udGFpbmVyXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuY2xpZW50V2lkdGggPD0gMTAwMCAmJiAhZS50YXJnZXQuY29udGFpbnMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0LWNvbnRhaW5lclwiKSkgJiYgIWUudGFyZ2V0LmNvbnRhaW5zKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHNcIikpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtY29udGFpbmVyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxuY29uc3QgdGFza0J1dHRvbkxpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0b2dnbGVEb25lTGlzdGVuZXJzKCk7XG4gICAgZGVsZXRlQnV0dG9uTGlzdGVuZXJzKCk7XG4gICAgdGFza0VkaXRCdXR0b25MaXN0ZW5lcnMoKTtcbn07XG5cbmNvbnN0IHVpTGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHByb2plY3RMaXN0ZW5lcnMoKTtcbiAgICBhbGxUb2RheVdlZWtMaXN0ZW5lcnMoKTtcbiAgICB0YXNrQnV0dG9uTGlzdGVuZXJzKCk7XG4gICAgZGVsZXRlQnV0dG9uTGlzdGVuZXJzKCk7XG4gICAgbW9iaWxlRHJvcGRvd25MaXN0ZW5lcigpO1xufTtcblxuZXhwb3J0IHthZGRBbGxUYXNrc1RvVWksIGFkZEFsbFByb2plY3RzVG9VaSwgdWlMaXN0ZW5lcnMsIHJlZnJlc2hQcm9qZWN0cywgcHJvamVjdExpc3RlbmVycywgcmVmcmVzaEN1cnJlbnRUYXNrc307IiwiaW1wb3J0IGFkZERheXMgZnJvbSBcIi4uL2FkZERheXMvaW5kZXguanNcIjtcbmltcG9ydCBhZGRNb250aHMgZnJvbSBcIi4uL2FkZE1vbnRocy9pbmRleC5qc1wiO1xuaW1wb3J0IHRvRGF0ZSBmcm9tIFwiLi4vdG9EYXRlL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuaW1wb3J0IHRvSW50ZWdlciBmcm9tIFwiLi4vX2xpYi90b0ludGVnZXIvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAbmFtZSBhZGRcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQWRkIHRoZSBzcGVjaWZpZWQgeWVhcnMsIG1vbnRocywgd2Vla3MsIGRheXMsIGhvdXJzLCBtaW51dGVzIGFuZCBzZWNvbmRzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQWRkIHRoZSBzcGVjaWZpZWQgeWVhcnMsIG1vbnRocywgd2Vla3MsIGRheXMsIGhvdXJzLCBtaW51dGVzIGFuZCBzZWNvbmRzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZSB0byBiZSBjaGFuZ2VkXG4gKiBAcGFyYW0ge0R1cmF0aW9ufSBkdXJhdGlvbiAtIHRoZSBvYmplY3Qgd2l0aCB5ZWFycywgbW9udGhzLCB3ZWVrcywgZGF5cywgaG91cnMsIG1pbnV0ZXMgYW5kIHNlY29uZHMgdG8gYmUgYWRkZWQuIFBvc2l0aXZlIGRlY2ltYWxzIHdpbGwgYmUgcm91bmRlZCB1c2luZyBgTWF0aC5mbG9vcmAsIGRlY2ltYWxzIGxlc3MgdGhhbiB6ZXJvIHdpbGwgYmUgcm91bmRlZCB1c2luZyBgTWF0aC5jZWlsYC5cbiAqXG4gKiB8IEtleSAgICAgICAgICAgIHwgRGVzY3JpcHRpb24gICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHllYXJzICAgICAgICAgIHwgQW1vdW50IG9mIHllYXJzIHRvIGJlIGFkZGVkICAgICAgICB8XG4gKiB8IG1vbnRocyAgICAgICAgIHwgQW1vdW50IG9mIG1vbnRocyB0byBiZSBhZGRlZCAgICAgICB8XG4gKiB8IHdlZWtzICAgICAgICAgIHwgQW1vdW50IG9mIHdlZWtzIHRvIGJlIGFkZGVkICAgICAgICB8XG4gKiB8IGRheXMgICAgICAgICAgIHwgQW1vdW50IG9mIGRheXMgdG8gYmUgYWRkZWQgICAgICAgICB8XG4gKiB8IGhvdXJzICAgICAgICAgIHwgQW1vdW50IG9mIGhvdXJzIHRvIGJlIGFkZGVkICAgICAgICB8XG4gKiB8IG1pbnV0ZXMgICAgICAgIHwgQW1vdW50IG9mIG1pbnV0ZXMgdG8gYmUgYWRkZWQgICAgICB8XG4gKiB8IHNlY29uZHMgICAgICAgIHwgQW1vdW50IG9mIHNlY29uZHMgdG8gYmUgYWRkZWQgICAgICB8XG4gKlxuICogQWxsIHZhbHVlcyBkZWZhdWx0IHRvIDBcbiAqXG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIG5ldyBkYXRlIHdpdGggdGhlIHNlY29uZHMgYWRkZWRcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQWRkIHRoZSBmb2xsb3dpbmcgZHVyYXRpb24gdG8gMSBTZXB0ZW1iZXIgMjAxNCwgMTA6MTk6NTBcbiAqIGNvbnN0IHJlc3VsdCA9IGFkZChuZXcgRGF0ZSgyMDE0LCA4LCAxLCAxMCwgMTksIDUwKSwge1xuICogICB5ZWFyczogMixcbiAqICAgbW9udGhzOiA5LFxuICogICB3ZWVrczogMSxcbiAqICAgZGF5czogNyxcbiAqICAgaG91cnM6IDUsXG4gKiAgIG1pbnV0ZXM6IDksXG4gKiAgIHNlY29uZHM6IDMwLFxuICogfSlcbiAqIC8vPT4gVGh1IEp1biAxNSAyMDE3IDE1OjI5OjIwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZChkaXJ0eURhdGUsIGR1cmF0aW9uKSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICBpZiAoIWR1cmF0aW9uIHx8IHR5cGVvZiBkdXJhdGlvbiAhPT0gJ29iamVjdCcpIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB2YXIgeWVhcnMgPSBkdXJhdGlvbi55ZWFycyA/IHRvSW50ZWdlcihkdXJhdGlvbi55ZWFycykgOiAwO1xuICB2YXIgbW9udGhzID0gZHVyYXRpb24ubW9udGhzID8gdG9JbnRlZ2VyKGR1cmF0aW9uLm1vbnRocykgOiAwO1xuICB2YXIgd2Vla3MgPSBkdXJhdGlvbi53ZWVrcyA/IHRvSW50ZWdlcihkdXJhdGlvbi53ZWVrcykgOiAwO1xuICB2YXIgZGF5cyA9IGR1cmF0aW9uLmRheXMgPyB0b0ludGVnZXIoZHVyYXRpb24uZGF5cykgOiAwO1xuICB2YXIgaG91cnMgPSBkdXJhdGlvbi5ob3VycyA/IHRvSW50ZWdlcihkdXJhdGlvbi5ob3VycykgOiAwO1xuICB2YXIgbWludXRlcyA9IGR1cmF0aW9uLm1pbnV0ZXMgPyB0b0ludGVnZXIoZHVyYXRpb24ubWludXRlcykgOiAwO1xuICB2YXIgc2Vjb25kcyA9IGR1cmF0aW9uLnNlY29uZHMgPyB0b0ludGVnZXIoZHVyYXRpb24uc2Vjb25kcykgOiAwOyAvLyBBZGQgeWVhcnMgYW5kIG1vbnRoc1xuXG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXRlV2l0aE1vbnRocyA9IG1vbnRocyB8fCB5ZWFycyA/IGFkZE1vbnRocyhkYXRlLCBtb250aHMgKyB5ZWFycyAqIDEyKSA6IGRhdGU7IC8vIEFkZCB3ZWVrcyBhbmQgZGF5c1xuXG4gIHZhciBkYXRlV2l0aERheXMgPSBkYXlzIHx8IHdlZWtzID8gYWRkRGF5cyhkYXRlV2l0aE1vbnRocywgZGF5cyArIHdlZWtzICogNykgOiBkYXRlV2l0aE1vbnRoczsgLy8gQWRkIGRheXMsIGhvdXJzLCBtaW51dGVzIGFuZCBzZWNvbmRzXG5cbiAgdmFyIG1pbnV0ZXNUb0FkZCA9IG1pbnV0ZXMgKyBob3VycyAqIDYwO1xuICB2YXIgc2Vjb25kc1RvQWRkID0gc2Vjb25kcyArIG1pbnV0ZXNUb0FkZCAqIDYwO1xuICB2YXIgbXNUb0FkZCA9IHNlY29uZHNUb0FkZCAqIDEwMDA7XG4gIHZhciBmaW5hbERhdGUgPSBuZXcgRGF0ZShkYXRlV2l0aERheXMuZ2V0VGltZSgpICsgbXNUb0FkZCk7XG4gIHJldHVybiBmaW5hbERhdGU7XG59IiwiaW1wb3J0IHtUYXNrLCBQcm9qZWN0fSBmcm9tIFwiLi9mYWN0b3JpZXMuanNcIjtcbmltcG9ydCB7dmFsaWRhdGVQcm9qZWN0Rm9ybSwgdmFsaWRhdGVUYXNrRm9ybSwgY2xlYXJFcnJvck1lc3NhZ2VzfSBmcm9tIFwiLi9mb3JtLXZhbGlkYXRvcnMuanNcIjtcbmltcG9ydCB7U3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZS5qc1wiO1xuaW1wb3J0IHtyZWZyZXNoUHJvamVjdHMsIHJlZnJlc2hDdXJyZW50VGFza3N9IGZyb20gXCIuL3VpLmpzXCI7XG5pbXBvcnQge3JlY29uc3RydWN0ZWRQcm9qZWN0TGlzdH0gZnJvbSBcIi4vb2JqZWN0LW1ldGhvZHMuanNcIjtcblxuY29uc3QgY2xvc2VQcm9qZWN0TW9kYWwgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBsZXQgbW9kYWxIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtbW9kYWwgLm1vZGFsLXRvcCBzcGFuOmZpcnN0LWNoaWxkXCIpO1xuICAgIG1vZGFsSGVhZGVyLnRleHRDb250ZW50ID0gXCJBREQgUFJPSkVDVFwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtLXN1Ym1pdFwiKS50ZXh0Q29udGVudCA9IFwiQWRkIFByb2plY3RcIjtcbn07XG5jb25zdCBvcGVuUHJvamVjdE1vZGFsID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtXCIpLnJlc2V0KCk7XG4gICAgY2xlYXJFcnJvck1lc3NhZ2VzKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG59O1xuY29uc3QgY2xvc2VUYXNrTW9kYWwgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkZWxldGUgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLW1vZGFsIC5tb2RhbC10b3Agc3BhbjpmaXJzdC1jaGlsZFwiKS5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICBkZWxldGUgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLW1vZGFsIC5tb2RhbC10b3Agc3BhbjpmaXJzdC1jaGlsZFwiKS5kYXRhc2V0LnByb2plY3RJbmRleDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stbW9kYWwgLm1vZGFsLXRvcCBzcGFuOmZpcnN0LWNoaWxkXCIpLnRleHRDb250ZW50ID0gXCJBREQgVEFTS1wiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1mb3JtLXN1Ym1pdFwiKS50ZXh0Q29udGVudCA9IFwiQWRkIFRhc2tcIjtcbn07XG5jb25zdCBvcGVuVGFza01vZGFsID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1mb3JtXCIpLnJlc2V0KCk7XG4gICAgY2xlYXJFcnJvck1lc3NhZ2VzKCk7XG4gICAgY2xlYXJGb3JtT3B0aW9ucygpO1xuICAgIHByb2plY3RzVG9Gb3JtT3B0aW9ucygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xufTtcbmNvbnN0IG1vZGFsVG9Qcm9qZWN0ID0gKCkgPT4ge1xuICAgIGxldCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpLnZhbHVlO1xuICAgIGxldCBjb2xvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29sb3JcIikudmFsdWU7XG4gICAgcmV0dXJuIG5ldyBQcm9qZWN0KG5hbWUsIGNvbG9yKTtcbn07XG5jb25zdCBwcm9qZWN0VG9BcnJheSA9ICgpID0+IHtcbiAgICBsZXQgbmV3UHJvamVjdCA9IG1vZGFsVG9Qcm9qZWN0KCk7XG4gICAgaWYgKFN0b3JhZ2UuZ2V0RGF0YSgpID09PSBudWxsKSB7XG4gICAgICAgIGxldCBwcm9qZWN0QXJyYXkgPSBbXTtcbiAgICAgICAgcHJvamVjdEFycmF5LnB1c2gobmV3UHJvamVjdCk7XG4gICAgICAgIFN0b3JhZ2Uuc2F2ZURhdGEocHJvamVjdEFycmF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJvamVjdEFycmF5ID0gU3RvcmFnZS5nZXREYXRhKCk7XG4gICAgICAgIHByb2plY3RBcnJheS5wdXNoKG5ld1Byb2plY3QpO1xuICAgICAgICBTdG9yYWdlLnNhdmVEYXRhKHByb2plY3RBcnJheSk7XG4gICAgfVxufTtcblxuY29uc3QgcHJvamVjdEZvcm1TdWJtaXQgPSAoKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRlUHJvamVjdEZvcm0oKSkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW1vZGFsIC5tb2RhbC10b3Agc3BhbjpmaXJzdC1jaGlsZFwiKS50ZXh0Q29udGVudCA9PT0gXCJFRElUIFBST0pFQ1RcIikge1xuICAgICAgICAgICAgcHJvamVjdEVkaXRTdWJtaXQoKTtcbiAgICAgICAgICAgIHJlZnJlc2hQcm9qZWN0cygpO1xuICAgICAgICAgICAgcmVmcmVzaEN1cnJlbnRUYXNrcygpO1xuICAgICAgICAgICAgY2xvc2VQcm9qZWN0TW9kYWwoKTtcbiAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgcHJvamVjdFRvQXJyYXkoKTtcbiAgICAgICAgICAgIHJlZnJlc2hQcm9qZWN0cygpO1xuICAgICAgICAgICAgY2xvc2VQcm9qZWN0TW9kYWwoKTtcbiAgICAgICAgfTtcbiAgICB9O1xufTtcblxuY29uc3QgbW9kYWxUb1Rhc2sgPSAoKSA9PiB7XG4gICAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrXCIpLnZhbHVlO1xuICAgIGxldCBkdWVEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkdWVEYXRlXCIpLnZhbHVlO1xuICAgIHJldHVybiBuZXcgVGFzayh0aXRsZSwgZHVlRGF0ZSk7XG59O1xuY29uc3QgdGFza1RvQXJyYXkgPSAoKSA9PiB7XG4gICAgbGV0IG5ld1Rhc2sgPSBtb2RhbFRvVGFzaygpO1xuICAgIGxldCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdFwiKS52YWx1ZTtcbiAgICBsZXQgcHJvamVjdEFycmF5ID0gU3RvcmFnZS5nZXREYXRhKCk7XG4gICAgcHJvamVjdEFycmF5LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgaWYgKHByb2plY3QubmFtZSA9PT0gcHJvamVjdE5hbWUpIHtcbiAgICAgICAgICAgIHByb2plY3QudGFza3MucHVzaChuZXdUYXNrKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBTdG9yYWdlLnNhdmVEYXRhKHByb2plY3RBcnJheSk7XG59O1xuY29uc3QgdGFza0Zvcm1TdWJtaXQgPSAoKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRlVGFza0Zvcm0oKSkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLW1vZGFsIC5tb2RhbC10b3Agc3BhbjpmaXJzdC1jaGlsZFwiKS50ZXh0Q29udGVudCA9PT0gXCJFRElUIFRBU0tcIikge1xuICAgICAgICAgICAgdGFza0VkaXRTdWJtaXQoKTtcbiAgICAgICAgICAgIGNsb3NlVGFza01vZGFsKCk7XG4gICAgICAgICAgICByZWZyZXNoQ3VycmVudFRhc2tzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXNrVG9BcnJheSgpO1xuICAgICAgICAgICAgY2xvc2VUYXNrTW9kYWwoKTtcbiAgICAgICAgICAgIHJlZnJlc2hDdXJyZW50VGFza3MoKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5jb25zdCBjbGVhckZvcm1PcHRpb25zID0gKCkgPT4ge1xuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RcIik7XG4gICAgd2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQubGFzdENoaWxkKTtcbiAgICB9O1xufTtcbmNvbnN0IHByb2plY3RzVG9Gb3JtT3B0aW9ucyA9ICgpID0+IHtcbiAgICBsZXQgc2VsZWN0UGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0XCIpO1xuICAgIGlmIChTdG9yYWdlLmdldERhdGEoKSAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgcHJvamVjdEFycmF5ID0gU3RvcmFnZS5nZXREYXRhKCk7XG4gICAgICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0QXJyYXkpIHtcbiAgICAgICAgICAgIGxldCBuZXdPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgbmV3T3B0aW9uLnZhbHVlID0gcHJvamVjdC5uYW1lO1xuICAgICAgICAgICAgbmV3T3B0aW9uLnRleHQgPSBwcm9qZWN0Lm5hbWU7XG4gICAgICAgICAgICBzZWxlY3RQYXJlbnQuYXBwZW5kQ2hpbGQobmV3T3B0aW9uKTtcbiAgICAgICAgfTtcbiAgICB9O1xufTtcblxuY29uc3QgcHJvamVjdEVkaXRNb2RhbCA9ICgpID0+IHtcbiAgICBsZXQgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvcC1jb250ZW50LWJsb2NrIGgyXCIpLnRleHRDb250ZW50O1xuICAgIGxldCBwcm9qZWN0QXJyYXkgPSBTdG9yYWdlLmdldERhdGEoKTtcbiAgICBsZXQgcHJvamVjdEluZGV4ID0gMDtcbiAgICBwcm9qZWN0QXJyYXkuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgICBpZiAocHJvamVjdC5uYW1lID09PSBwcm9qZWN0TmFtZSkge1xuICAgICAgICAgICAgb3BlblByb2plY3RNb2RhbCgpO1xuICAgICAgICAgICAgbGV0IG1vZGFsSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW1vZGFsIC5tb2RhbC10b3Agc3BhbjpmaXJzdC1jaGlsZFwiKTtcbiAgICAgICAgICAgIG1vZGFsSGVhZGVyLnRleHRDb250ZW50ID0gXCJFRElUIFBST0pFQ1RcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtLXN1Ym1pdFwiKS50ZXh0Q29udGVudCA9IFwiRWRpdCBQcm9qZWN0XCI7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcbiAgICAgICAgICAgIGxldCBjb2xvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29sb3JcIik7XG4gICAgICAgICAgICBuYW1lLnZhbHVlID0gcHJvamVjdE5hbWU7XG4gICAgICAgICAgICBjb2xvci52YWx1ZSA9IHByb2plY3QuY29sb3I7XG4gICAgICAgICAgICBtb2RhbEhlYWRlci5kYXRhc2V0LnByb2plY3RJbmRleCA9IHByb2plY3RJbmRleDtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvamVjdEluZGV4Kys7XG4gICAgfSk7XG59O1xuXG5jb25zdCBwcm9qZWN0RWRpdFN1Ym1pdCA9ICgpID0+IHtcbiAgICBsZXQgcmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheSA9IHJlY29uc3RydWN0ZWRQcm9qZWN0TGlzdCgpO1xuICAgIGxldCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xuICAgIGxldCBjb2xvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29sb3JcIik7XG4gICAgbGV0IHByb2plY3RJbmRleCA9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1tb2RhbCAubW9kYWwtdG9wIHNwYW46Zmlyc3QtY2hpbGRcIikuZGF0YXNldC5wcm9qZWN0SW5kZXgpO1xuICAgIHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS5uZXdOYW1lKG5hbWUudmFsdWUpO1xuICAgIHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS5uZXdDb2xvcihjb2xvci52YWx1ZSk7XG4gICAgbGV0IHRhc2tMaXN0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3QtbmFtZVwiKTtcbiAgICB0YXNrTGlzdFRpdGxlLnRleHRDb250ZW50ID0gbmFtZS52YWx1ZTtcbiAgICBTdG9yYWdlLnNhdmVEYXRhKHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXkpO1xuICAgIGRlbGV0ZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtbW9kYWwgLm1vZGFsLXRvcCBzcGFuOmZpcnN0LWNoaWxkXCIpLmRhdGFzZXQucHJvamVjdEluZGV4O1xufTtcblxuY29uc3QgdGFza0VkaXRCdXR0b25MaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YXNrLWVkaXQtYnV0dG9uXCIpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIG9wZW5UYXNrTW9kYWwoKTtcbiAgICAgICAgICAgIGxldCBtb2RhbEhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1tb2RhbCAubW9kYWwtdG9wIHNwYW46Zmlyc3QtY2hpbGRcIik7XG4gICAgICAgICAgICBtb2RhbEhlYWRlci50ZXh0Q29udGVudCA9IFwiRURJVCBUQVNLXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stZm9ybS1zdWJtaXRcIikudGV4dENvbnRlbnQgPSBcIkVkaXQgVGFza1wiO1xuICAgICAgICAgICAgbGV0IHByb2plY3RBcnJheSA9IFN0b3JhZ2UuZ2V0RGF0YSgpO1xuICAgICAgICAgICAgbGV0IHByb2plY3RJbmRleCA9IHBhcnNlSW50KGJ1dHRvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LnByb2plY3RJbmRleCk7XG4gICAgICAgICAgICBsZXQgdGFza0luZGV4ID0gcGFyc2VJbnQoYnV0dG9uLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQudGFza0luZGV4KTtcbiAgICAgICAgICAgIG1vZGFsSGVhZGVyLmRhdGFzZXQucHJvamVjdEluZGV4ID0gcHJvamVjdEluZGV4O1xuICAgICAgICAgICAgbW9kYWxIZWFkZXIuZGF0YXNldC50YXNrSW5kZXggPSB0YXNrSW5kZXg7XG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tcIik7XG4gICAgICAgICAgICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHVlRGF0ZVwiKTtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0U2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0XCIpO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRUYXNrID0gcHJvamVjdEFycmF5W3Byb2plY3RJbmRleF0udGFza3NbdGFza0luZGV4XTtcbiAgICAgICAgICAgIHRpdGxlLnZhbHVlID0gY3VycmVudFRhc2submFtZTtcbiAgICAgICAgICAgIHByb2plY3RTZWxlY3QudmFsdWUgPSBwcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS5uYW1lO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRUYXNrLmRhdGUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBkdWVEYXRlLnZhbHVlID0gY3VycmVudFRhc2suZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCB0YXNrRWRpdFN1Ym1pdCA9ICgpID0+IHtcbiAgICBsZXQgcmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheSA9IHJlY29uc3RydWN0ZWRQcm9qZWN0TGlzdCgpO1xuICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFza1wiKTtcbiAgICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZHVlRGF0ZVwiKTtcbiAgICBsZXQgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdFwiKTtcbiAgICBsZXQgcHJvamVjdEluZGV4ID0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLW1vZGFsIC5tb2RhbC10b3Agc3BhbjpmaXJzdC1jaGlsZFwiKS5kYXRhc2V0LnByb2plY3RJbmRleCk7XG4gICAgbGV0IHRhc2tJbmRleCA9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1tb2RhbCAubW9kYWwtdG9wIHNwYW46Zmlyc3QtY2hpbGRcIikuZGF0YXNldC50YXNrSW5kZXgpO1xuICAgIGlmKHByb2plY3RTZWxlY3QudmFsdWUgPT09IHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS5uYW1lKXtcbiAgICAgICAgcmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheVtwcm9qZWN0SW5kZXhdLnRhc2tzW3Rhc2tJbmRleF0ubmV3TmFtZSh0aXRsZS52YWx1ZSk7XG4gICAgICAgIHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXlbcHJvamVjdEluZGV4XS50YXNrc1t0YXNrSW5kZXhdLm5ld0RhdGUoZHVlRGF0ZS52YWx1ZSk7XG4gICAgICAgIFN0b3JhZ2Uuc2F2ZURhdGEocmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheVtwcm9qZWN0SW5kZXhdLnRhc2tzLnNwbGljZSh0YXNrSW5kZXgsIDEpO1xuICAgICAgICBTdG9yYWdlLnNhdmVEYXRhKHJlY29uc3RydWN0ZWRQcm9qZWN0QXJyYXkpO1xuICAgICAgICB0YXNrVG9BcnJheSgpO1xuICAgIH07XG59O1xuXG5jb25zdCBwcm9qZWN0TW9kYWxTdWJtaXRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtZm9ybVwiKS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcHJvamVjdEZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IHRhc2tNb2RhbFN1Ym1pdExpc3RlbmVyID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1mb3JtXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0YXNrRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xufVxuXG5jb25zdCBtb2RhbExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBwcm9qZWN0TW9kYWxTdWJtaXRMaXN0ZW5lcigpO1xuICAgIHRhc2tNb2RhbFN1Ym1pdExpc3RlbmVyKCk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stbW9kYWwtY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY2xvc2VUYXNrTW9kYWwoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG9wZW5UYXNrTW9kYWwoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtbW9kYWwtY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY2xvc2VQcm9qZWN0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1wcm9qZWN0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG9wZW5Qcm9qZWN0TW9kYWwoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stbW9kYWxcIikpIHtcbiAgICAgICAgICAgIGNsb3NlVGFza01vZGFsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1tb2RhbFwiKSkge1xuICAgICAgICAgICAgY2xvc2VQcm9qZWN0TW9kYWwoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtLXN1Ym1pdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwcm9qZWN0Rm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1mb3JtLXN1Ym1pdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0YXNrRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1mb3JtLWNhbmNlbFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjbG9zZVRhc2tNb2RhbCgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtLWNhbmNlbFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjbG9zZVByb2plY3RNb2RhbCgpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IHttb2RhbExpc3RlbmVycywgdGFza0VkaXRCdXR0b25MaXN0ZW5lcnMsIHByb2plY3RFZGl0TW9kYWx9OyIsImltcG9ydCB7bW9kYWxMaXN0ZW5lcnN9IGZyb20gXCIuL21vZGFsLWNvbnRyb2xzLmpzXCI7XG5pbXBvcnQge2FkZEFsbFByb2plY3RzVG9VaSwgdWlMaXN0ZW5lcnMsIGFkZEFsbFRhc2tzVG9VaX0gZnJvbSBcIi4vdWkuanNcIjtcbmltcG9ydCB7U3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZS5qc1wiO1xuXG5TdG9yYWdlLmR1bW15Q2hlY2soKTtcbm1vZGFsTGlzdGVuZXJzKCk7XG5hZGRBbGxUYXNrc1RvVWkoKTtcbmFkZEFsbFByb2plY3RzVG9VaSgpO1xudWlMaXN0ZW5lcnMoKTsiXSwibmFtZXMiOlsiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImNvbG9yIiwidGhpcyIsInRhc2tzIiwibmV3TmFtZSIsIm5ld0NvbG9yIiwiYWRkVGFzayIsInRhc2siLCJwdXNoIiwib3ZlcldyaXRlVGFza3MiLCJ0YXNrTGlzdCIsIlRhc2siLCJkYXRlIiwiZG9uZSIsIm5ld0RhdGUiLCJ0b2dnbGVEb25lIiwiY2xlYXJFcnJvck1lc3NhZ2VzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJTdG9yYWdlIiwic3RhdGljIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJnZXRJdGVtIiwiZHVtbXlDb250ZW50IiwiTWF0aCIsInBvdyIsIm1pbGxpc2Vjb25kc0luSG91ciIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsInRvSW50ZWdlciIsImRpcnR5TnVtYmVyIiwiTmFOIiwibnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJjZWlsIiwiZmxvb3IiLCJwYXJzZUlTTyIsImFyZ3VtZW50IiwiZGlydHlPcHRpb25zIiwiYXJndW1lbnRzIiwib3B0aW9ucyIsImFkZGl0aW9uYWxEaWdpdHMiLCJSYW5nZUVycm9yIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiRGF0ZSIsImRhdGVTdHJpbmdzIiwic3BsaXREYXRlU3RyaW5nIiwicGFyc2VZZWFyUmVzdWx0IiwicGFyc2VZZWFyIiwicGFyc2VEYXRlIiwicmVzdERhdGVTdHJpbmciLCJ5ZWFyIiwiZ2V0VGltZSIsIm9mZnNldCIsInRpbWVzdGFtcCIsInRpbWUiLCJwYXJzZVRpbWUiLCJ0aW1lem9uZSIsImRpcnR5RGF0ZSIsInJlc3VsdCIsInNldEZ1bGxZZWFyIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJzZXRIb3VycyIsImdldFVUQ0hvdXJzIiwiZ2V0VVRDTWludXRlcyIsImdldFVUQ1NlY29uZHMiLCJnZXRVVENNaWxsaXNlY29uZHMiLCJwYXJzZVRpbWV6b25lIiwicGF0dGVybnMiLCJkYXRlVGltZURlbGltaXRlciIsInRpbWVab25lRGVsaW1pdGVyIiwiZGF0ZVJlZ2V4IiwidGltZVJlZ2V4IiwidGltZXpvbmVSZWdleCIsImRhdGVTdHJpbmciLCJ0aW1lU3RyaW5nIiwiYXJyYXkiLCJzcGxpdCIsInRlc3QiLCJzdWJzdHIiLCJ0b2tlbiIsImV4ZWMiLCJyZXBsYWNlIiwicmVnZXgiLCJSZWdFeHAiLCJjYXB0dXJlcyIsIm1hdGNoIiwicGFyc2VJbnQiLCJjZW50dXJ5Iiwic2xpY2UiLCJpc1dlZWtEYXRlIiwiZGF5T2ZZZWFyIiwicGFyc2VEYXRlVW5pdCIsIm1vbnRoIiwiZGF5Iiwid2VlayIsImRheU9mV2VlayIsIl95ZWFyIiwidmFsaWRhdGVXZWVrRGF0ZSIsImlzb1dlZWtZZWFyIiwic2V0VVRDRnVsbFllYXIiLCJkaWZmIiwiZ2V0VVRDRGF5Iiwic2V0VVRDRGF0ZSIsImRheU9mSVNPV2Vla1llYXIiLCJkYXlzSW5Nb250aHMiLCJpc0xlYXBZZWFySW5kZXgiLCJ2YWxpZGF0ZURhdGUiLCJ2YWxpZGF0ZURheU9mWWVhckRhdGUiLCJtYXgiLCJ2YWx1ZSIsImhvdXJzIiwicGFyc2VUaW1lVW5pdCIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwidmFsaWRhdGVUaW1lIiwicGFyc2VGbG9hdCIsInRpbWV6b25lU3RyaW5nIiwic2lnbiIsIl9ob3VycyIsInZhbGlkYXRlVGltZXpvbmUiLCJ0b0RhdGUiLCJhcmdTdHIiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwic3RhY2siLCJjb21wYXJlQXNjIiwiZGlydHlEYXRlTGVmdCIsImRpcnR5RGF0ZVJpZ2h0IiwiZGF0ZUxlZnQiLCJkYXRlUmlnaHQiLCJhZGREYXlzIiwiZGlydHlBbW91bnQiLCJhbW91bnQiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImFkZE1vbnRocyIsImRheU9mTW9udGgiLCJlbmRPZkRlc2lyZWRNb250aCIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJkYXlzSW5Nb250aCIsImdldEZ1bGxZZWFyIiwicmVjb25zdHJ1Y3RlZFByb2plY3RMaXN0IiwicmVjb25zdHJ1Y3RlZCIsImdldERhdGEiLCJmb3JFYWNoIiwicHJvamVjdCIsIm5ld1Byb2plY3QiLCJhZGRBbGxQcm9qZWN0c1RvVWkiLCJvYmoiLCJwYXJlbnRMaSIsImNyZWF0ZUVsZW1lbnQiLCJkYXRhc2V0IiwibmFtZUNvbnRhaW5lciIsImNvbG9yQ2lyY2xlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhcHBlbmRDaGlsZCIsImFkZFByb2plY3RUb1VpIiwiYWRkVGFza3RvVWkiLCJwcm9qZWN0SW5kZXgiLCJ0YXNrSW5kZXgiLCJjb2xvckJsb2NrIiwiY2xhc3NMaXN0IiwiYWRkIiwidGFza0NvbnRhaW5lciIsInRhc2tBbmRDaGVja2JveERpdiIsImNoZWNrYm94RGl2IiwiY2hlY2tib3hJbWciLCJzcmMiLCJ0YXNrTmFtZURpdiIsImRhdGVBbmRFZGl0RGl2IiwiZGF0ZURpdiIsImVkaXRCdXR0b24iLCJlZGl0SW1nIiwidHJhc2hCdXR0b24iLCJ0cmFzaEltZyIsImFwcGVuZCIsInByZXBlbmQiLCJhZGRBbGxUYXNrc1RvVWkiLCJwcm9qZWN0QXJyYXkiLCJ0YXNrQ29sb3IiLCJhZGRUYXNrc0Zyb21Qcm9qZWN0IiwicHJvamVjdE5hbWUiLCJhZGRUb2RheXNUYXNrcyIsInRvZGF5IiwidG9JU09TdHJpbmciLCJhZGRXZWVrc1Rhc2tzIiwid2Vla0Zyb21Ob3ciLCJkdXJhdGlvbiIsInllYXJzIiwibW9udGhzIiwid2Vla3MiLCJkYXlzIiwiZGF0ZVdpdGhNb250aHMiLCJkYXRlV2l0aERheXMiLCJtc1RvQWRkIiwiY2xlYXJUYXNrcyIsInRhc2tzUGFyZW50IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwicmVmcmVzaFByb2plY3RzIiwicHJvamVjdHNQYXJlbnQiLCJjbGVhclByb2plY3RzIiwicHJvamVjdExpc3RlbmVycyIsInJlZnJlc2hDdXJyZW50VGFza3MiLCJjdXJyZW50VGFza0xpc3ROYW1lIiwidGFza0J1dHRvbkxpc3RlbmVycyIsIkhlYWRlckVkaXREZWxldGUiLCJwYXJlbnRDb250IiwiZGVsZXRlQnV0dG9uIiwidGFza0xpc3ROYW1lIiwicXVlcnlTZWxlY3RvckFsbCIsInByb2plY3RDb250IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJTdHJpbmciLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY2xlYXIiLCJwcm9qZWN0RWRpdE1vZGFsIiwic3BsaWNlIiwic2F2ZURhdGEiLCJwcm9qZWN0RGVsZXRlQnV0dG9uIiwiZGVsZXRlQnV0dG9uTGlzdGVuZXJzIiwiYnV0dG9uIiwicmVjb25zdHJ1Y3RlZFByb2plY3RBcnJheSIsInBhcmVudEVsZW1lbnQiLCJjaGVja2JveCIsImNvbnRhaW5zIiwidG9nZ2xlIiwidGFza0VkaXRCdXR0b25MaXN0ZW5lcnMiLCJjbG9zZVByb2plY3RNb2RhbCIsImRpc3BsYXkiLCJvcGVuUHJvamVjdE1vZGFsIiwicmVzZXQiLCJjbG9zZVRhc2tNb2RhbCIsIm9wZW5UYXNrTW9kYWwiLCJjbGVhckZvcm1PcHRpb25zIiwicHJvamVjdHNUb0Zvcm1PcHRpb25zIiwicHJvamVjdEZvcm1TdWJtaXQiLCJwcm9qZWN0RXJyb3IiLCJub1Byb2plY3ROYW1lRXJyb3JzIiwidmFsaWRhdGVQcm9qZWN0Rm9ybSIsInByb2plY3RFZGl0U3VibWl0IiwibW9kYWxUb1Byb2plY3QiLCJwcm9qZWN0VG9BcnJheSIsInRhc2tUb0FycmF5IiwibmV3VGFzayIsInRpdGxlIiwiZHVlRGF0ZSIsIm1vZGFsVG9UYXNrIiwidGFza0Zvcm1TdWJtaXQiLCJ0YXNrTmFtZSIsInRhc2tFcnJvciIsIm5vUHJvamVjdEVycm9ycyIsIm5vVGFza0Vycm9ycyIsInZhbGlkYXRlVGFza0Zvcm0iLCJ0YXNrRWRpdFN1Ym1pdCIsInBhcmVudCIsInNlbGVjdFBhcmVudCIsIm5ld09wdGlvbiIsInRleHQiLCJtb2RhbEhlYWRlciIsInByb2plY3RTZWxlY3QiLCJjdXJyZW50VGFzayIsImR1bW15Q2hlY2siLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImV2ZW50IiwiYWxsVG9kYXlXZWVrTGlzdGVuZXJzIiwiY2xpZW50V2lkdGgiLCJyZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9