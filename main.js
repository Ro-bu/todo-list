(()=>{"use strict";class e{constructor(e,t){this.name=e,this.color=t,this.tasks=[]}newName(e){this.name=e}newColor(e){this.color=e}addTask(e){this.tasks.push(e)}}class t{constructor(e,t="No due date"){this.name=e,this.date=t,this.done=!1}newName(e){this.name=e}newDate(e){this.date=e}toggleDone(){this.done?this.done=!1:this.done=!0}}const r=()=>{document.querySelector("#task-error").textContent="",document.querySelector("#project-error").textContent="",document.querySelector("#project-name-error").textContent=""};class o{static saveData(e){localStorage.setItem("projectList",JSON.stringify(e))}static getData(){return JSON.parse(localStorage.getItem("projectList"))}}const c=()=>{document.querySelector("#project-modal").style.display="none"},n=()=>{document.querySelector("#task-modal").style.display="none"};document.querySelector("#task-modal-close").addEventListener("click",(()=>{n()})),document.querySelector(".add-task").addEventListener("click",(()=>{document.querySelector("#task-form").reset(),r(),(()=>{let e=document.querySelector("#project");for(;e.firstChild;)e.removeChild(e.lastChild)})(),(()=>{let e=document.querySelector("#project");if(null!==o.getData()){let t=o.getData();for(const r of t){let t=document.createElement("option");t.value=r.name,t.text=r.name,e.appendChild(t)}}})(),document.querySelector("#task-modal").style.display="block"})),document.querySelector("#project-modal-close").addEventListener("click",(()=>{c()})),document.querySelector(".add-project").addEventListener("click",(()=>{document.querySelector("#project-form").reset(),r(),document.querySelector("#project-modal").style.display="block"})),window.addEventListener("click",(()=>{event.target==document.querySelector("#task-modal")?n():event.target==document.querySelector("#project-modal")&&c()})),document.querySelector("#project-form-submit").addEventListener("click",(t=>{t.preventDefault(),(()=>{const e=document.querySelector("#name").value;let t=document.querySelector("#project-name-error"),r=!0;return""===e?(t.textContent="Please enter a name for the project.",r=!1):(t.textContent="",r=!0),!!r})()&&((()=>{let t=(()=>{let t=document.querySelector("#name").value,r=document.querySelector("#color").value;return new e(t,r)})();if(null===o.getData()){let e=[];e.push(t),o.saveData(e)}else{let e=o.getData();e.push(t),o.saveData(e)}})(),c())})),document.querySelector("#task-form-submit").addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=document.querySelector("#task").value,t=document.querySelector("#project").value;let r=document.querySelector("#task-error"),o=document.querySelector("#project-error"),c=!0,n=!0;return""===e?(r.textContent="Please enter a task name.",n=!1):(r.textContent="",n=!0),""===t&&null===document.querySelector("#project").firstChild?(o.textContent="Please create a project before adding a task.",c=!1):(o.textContent="",c=!0),!(!c||!n)})()&&((()=>{let e=(()=>{let e=document.querySelector("#task").value,r=document.querySelector("#dueDate").value;return new t(e,r)})(),r=document.querySelector("#project").value,c=o.getData();c.forEach((t=>{t.name===r&&t.tasks.push(e)})),o.saveData(c)})(),n())})),document.querySelector("#task-form-cancel").addEventListener("click",(e=>{e.preventDefault(),n()})),document.querySelector("#project-form-cancel").addEventListener("click",(e=>{e.preventDefault(),c()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTUssS0FBSzBELE1BRzNCaEQsRUFBUXlDLFNBQVNuQixJQWtEVCtCLEdBQ0F6QyxRQUdSZixTQUFTQyxjQUFjLHFCQUFxQmUsaUJBQWlCLFNBQVVvQixJQUNuRUEsRUFBRUMsaUJBQ0Z0QixPQUVKZixTQUFTQyxjQUFjLHdCQUF3QmUsaUJBQWlCLFNBQVVvQixJQUN0RUEsRUFBRUMsaUJBQ0Z6QixRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXMvLi9zcmMvZmFjdG9yaWVzLmpzIiwid2VicGFjazovL3RvZG8tbGlzLy4vc3JjL2Zvcm0tdmFsaWRhdG9ycy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpcy8uL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvZG8tbGlzLy4vc3JjL21vZGFsLWNvbnRyb2xzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY2xhc3MgUHJvamVjdCB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29sb3IpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLnRhc2tzID0gW107XG4gICAgfTtcbiAgICBuZXdOYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9O1xuICAgIG5ld0NvbG9yKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB9XG4gICAgYWRkVGFzayh0YXNrKSB7XG4gICAgICAgIHRoaXMudGFza3MucHVzaCh0YXNrKTtcbiAgICB9XG59O1xuXG5jbGFzcyBUYXNrIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkYXRlID0gXCJObyBkdWUgZGF0ZVwiKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgIH07XG4gICAgbmV3TmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfTtcbiAgICBuZXdEYXRlKGRhdGUpIHtcbiAgICAgICAgdGhpcy5kYXRlID0gZGF0ZTtcbiAgICB9O1xuICAgIHRvZ2dsZURvbmUoKSB7XG4gICAgICAgIGlmKHRoaXMuZG9uZSkge1xuICAgICAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCB7UHJvamVjdCwgVGFza307IiwiY29uc3QgdmFsaWRhdGVQcm9qZWN0Rm9ybSA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKS52YWx1ZTtcbiAgICBsZXQgcHJvamVjdEVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW5hbWUtZXJyb3JcIik7XG4gICAgbGV0IG5vUHJvamVjdE5hbWVFcnJvcnMgPSB0cnVlO1xuICAgIGlmIChwcm9qZWN0TmFtZSA9PT0gXCJcIikge1xuICAgICAgICBwcm9qZWN0RXJyb3IudGV4dENvbnRlbnQgPSBcIlBsZWFzZSBlbnRlciBhIG5hbWUgZm9yIHRoZSBwcm9qZWN0LlwiXG4gICAgICAgIG5vUHJvamVjdE5hbWVFcnJvcnMgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9qZWN0RXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBub1Byb2plY3ROYW1lRXJyb3JzID0gdHJ1ZTtcbiAgICB9O1xuICAgIGlmIChub1Byb2plY3ROYW1lRXJyb3JzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufTtcblxuY29uc3QgdmFsaWRhdGVUYXNrRm9ybSA9ICgpID0+IHtcbiAgICBjb25zdCB0YXNrTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFza1wiKS52YWx1ZTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdFwiKS52YWx1ZTtcbiAgICBsZXQgdGFza0Vycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLWVycm9yXCIpO1xuICAgIGxldCBwcm9qZWN0RXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtZXJyb3JcIik7XG4gICAgbGV0IG5vUHJvamVjdEVycm9ycyA9IHRydWU7XG4gICAgbGV0IG5vVGFza0Vycm9ycyA9IHRydWU7XG4gICAgaWYgKHRhc2tOYW1lID09PSBcIlwiKSB7XG4gICAgICAgIHRhc2tFcnJvci50ZXh0Q29udGVudCA9IFwiUGxlYXNlIGVudGVyIGEgdGFzayBuYW1lLlwiO1xuICAgICAgICBub1Rhc2tFcnJvcnMgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0YXNrRXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBub1Rhc2tFcnJvcnMgPSB0cnVlO1xuICAgIH07XG4gICAgaWYgKHByb2plY3ROYW1lID09PSBcIlwiICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdFwiKS5maXJzdENoaWxkID09PSBudWxsKSB7XG4gICAgICAgIHByb2plY3RFcnJvci50ZXh0Q29udGVudCA9IFwiUGxlYXNlIGNyZWF0ZSBhIHByb2plY3QgYmVmb3JlIGFkZGluZyBhIHRhc2suXCI7XG4gICAgICAgIG5vUHJvamVjdEVycm9ycyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2plY3RFcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgIG5vUHJvamVjdEVycm9ycyA9IHRydWU7XG4gICAgfTtcbiAgICBpZiAobm9Qcm9qZWN0RXJyb3JzICYmIG5vVGFza0Vycm9ycykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn07XG5cbmNvbnN0IGNsZWFyRXJyb3JNZXNzYWdlcyA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stZXJyb3JcIikudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1lcnJvclwiKS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LW5hbWUtZXJyb3JcIikudGV4dENvbnRlbnQgPSBcIlwiO1xufTtcblxuZXhwb3J0IHtcbiAgICB2YWxpZGF0ZVByb2plY3RGb3JtLFxuICAgIHZhbGlkYXRlVGFza0Zvcm0sXG4gICAgY2xlYXJFcnJvck1lc3NhZ2VzXG59OyIsImNsYXNzIFN0b3JhZ2Uge1xuICAgIHN0YXRpYyBzYXZlRGF0YShkYXRhKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvamVjdExpc3RcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gICAgfTtcbiAgICBzdGF0aWMgZ2V0RGF0YSgpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdExpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdExpc3RcIikpO1xuICAgICAgICByZXR1cm4gcHJvamVjdExpc3Q7XG4gICAgfVxufTtcblxuZXhwb3J0IHtTdG9yYWdlfTsiLCJpbXBvcnQge1Rhc2ssIFByb2plY3R9IGZyb20gXCIuL2ZhY3Rvcmllcy5qc1wiXG5pbXBvcnQge3ZhbGlkYXRlUHJvamVjdEZvcm0sIHZhbGlkYXRlVGFza0Zvcm0sIGNsZWFyRXJyb3JNZXNzYWdlc30gZnJvbSBcIi4vZm9ybS12YWxpZGF0b3JzLmpzXCJcbmltcG9ydCB7U3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZS5qc1wiXG5cbmNvbnN0IGNsb3NlUHJvamVjdE1vZGFsID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59O1xuY29uc3Qgb3BlblByb2plY3RNb2RhbCA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtZm9ybVwiKS5yZXNldCgpO1xuICAgIGNsZWFyRXJyb3JNZXNzYWdlcygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xufTtcbmNvbnN0IGNsb3NlVGFza01vZGFsID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59O1xuY29uc3Qgb3BlblRhc2tNb2RhbCA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stZm9ybVwiKS5yZXNldCgpO1xuICAgIGNsZWFyRXJyb3JNZXNzYWdlcygpO1xuICAgIGNsZWFyRm9ybU9wdGlvbnMoKTtcbiAgICBwcm9qZWN0c1RvRm9ybU9wdGlvbnMoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbn07XG5jb25zdCBtb2RhbFRvUHJvamVjdCA9ICgpID0+IHtcbiAgICBsZXQgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKS52YWx1ZTtcbiAgICBsZXQgY29sb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbG9yXCIpLnZhbHVlO1xuICAgIHJldHVybiBuZXcgUHJvamVjdChuYW1lLCBjb2xvcik7XG59O1xuY29uc3QgcHJvamVjdFRvQXJyYXkgPSAoKSA9PiB7XG4gICAgbGV0IG5ld1Byb2plY3QgPSBtb2RhbFRvUHJvamVjdCgpO1xuICAgIGlmIChTdG9yYWdlLmdldERhdGEoKSA9PT0gbnVsbCl7XG4gICAgICAgIGxldCBwcm9qZWN0QXJyYXkgPSBbXTtcbiAgICAgICAgcHJvamVjdEFycmF5LnB1c2gobmV3UHJvamVjdCk7XG4gICAgICAgIFN0b3JhZ2Uuc2F2ZURhdGEocHJvamVjdEFycmF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJvamVjdEFycmF5ID0gU3RvcmFnZS5nZXREYXRhKCk7XG4gICAgICAgIHByb2plY3RBcnJheS5wdXNoKG5ld1Byb2plY3QpO1xuICAgICAgICBTdG9yYWdlLnNhdmVEYXRhKHByb2plY3RBcnJheSk7XG4gICAgfVxuXG59O1xuY29uc3QgbW9kYWxUb1Rhc2sgPSAoKSA9PiB7XG4gICAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrXCIpLnZhbHVlO1xuICAgIGxldCBkdWVEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkdWVEYXRlXCIpLnZhbHVlO1xuICAgIHJldHVybiBuZXcgVGFzayh0aXRsZSwgZHVlRGF0ZSk7XG59O1xuY29uc3QgdGFza1RvQXJyYXkgPSAoKSA9PiB7XG4gICAgbGV0IG5ld1Rhc2sgPSBtb2RhbFRvVGFzaygpO1xuICAgIGxldCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdFwiKS52YWx1ZTtcbiAgICBsZXQgcHJvamVjdEFycmF5ID0gU3RvcmFnZS5nZXREYXRhKCk7XG4gICAgcHJvamVjdEFycmF5LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgaWYocHJvamVjdC5uYW1lID09PSBwcm9qZWN0TmFtZSl7XG4gICAgICAgICAgICBwcm9qZWN0LnRhc2tzLnB1c2gobmV3VGFzayk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgU3RvcmFnZS5zYXZlRGF0YShwcm9qZWN0QXJyYXkpO1xufTtcbmNvbnN0IGNsZWFyRm9ybU9wdGlvbnMgPSAoKSA9PiB7XG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdFwiKTtcbiAgICB3aGlsZShwYXJlbnQuZmlyc3RDaGlsZCl7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQubGFzdENoaWxkKTtcbiAgICB9O1xufTtcbmNvbnN0IHByb2plY3RzVG9Gb3JtT3B0aW9ucyA9ICgpID0+IHtcbiAgICBsZXQgc2VsZWN0UGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0XCIpO1xuICAgIGlmIChTdG9yYWdlLmdldERhdGEoKSAhPT0gbnVsbCl7XG4gICAgICAgIGxldCBwcm9qZWN0QXJyYXkgPSBTdG9yYWdlLmdldERhdGEoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0QXJyYXkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgICAgICAgICBuZXdPcHRpb24udmFsdWUgPSBwcm9qZWN0Lm5hbWU7XG4gICAgICAgICAgICAgICAgbmV3T3B0aW9uLnRleHQgPSBwcm9qZWN0Lm5hbWU7XG4gICAgICAgICAgICAgICAgc2VsZWN0UGFyZW50LmFwcGVuZENoaWxkKG5ld09wdGlvbik7XG4gICAgICAgIH07XG4gICAgfTtcbn07XG5jb25zdCBtb2RhbExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stbW9kYWwtY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY2xvc2VUYXNrTW9kYWwoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG9wZW5UYXNrTW9kYWwoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtbW9kYWwtY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY2xvc2VQcm9qZWN0TW9kYWwoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1wcm9qZWN0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG9wZW5Qcm9qZWN0TW9kYWwoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stbW9kYWxcIikpIHtcbiAgICAgICAgICAgIGNsb3NlVGFza01vZGFsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1tb2RhbFwiKSkge1xuICAgICAgICAgICAgY2xvc2VQcm9qZWN0TW9kYWwoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdC1mb3JtLXN1Ym1pdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodmFsaWRhdGVQcm9qZWN0Rm9ybSgpKSB7XG4gICAgICAgICAgICBwcm9qZWN0VG9BcnJheSgpO1xuICAgICAgICAgICAgY2xvc2VQcm9qZWN0TW9kYWwoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stZm9ybS1zdWJtaXRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHZhbGlkYXRlVGFza0Zvcm0oKSkge1xuICAgICAgICAgICAgdGFza1RvQXJyYXkoKTtcbiAgICAgICAgICAgIGNsb3NlVGFza01vZGFsKCk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLWZvcm0tY2FuY2VsXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNsb3NlVGFza01vZGFsKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LWZvcm0tY2FuY2VsXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNsb3NlUHJvamVjdE1vZGFsKCk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQge21vZGFsTGlzdGVuZXJzfTsiXSwibmFtZXMiOlsiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImNvbG9yIiwidGhpcyIsInRhc2tzIiwibmV3TmFtZSIsIm5ld0NvbG9yIiwiYWRkVGFzayIsInRhc2siLCJwdXNoIiwiVGFzayIsImRhdGUiLCJkb25lIiwibmV3RGF0ZSIsInRvZ2dsZURvbmUiLCJjbGVhckVycm9yTWVzc2FnZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsIlN0b3JhZ2UiLCJzdGF0aWMiLCJkYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsImdldEl0ZW0iLCJjbG9zZVByb2plY3RNb2RhbCIsInN0eWxlIiwiZGlzcGxheSIsImNsb3NlVGFza01vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2V0IiwicGFyZW50IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiY2xlYXJGb3JtT3B0aW9ucyIsInNlbGVjdFBhcmVudCIsImdldERhdGEiLCJwcm9qZWN0QXJyYXkiLCJwcm9qZWN0IiwibmV3T3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsInZhbHVlIiwidGV4dCIsImFwcGVuZENoaWxkIiwicHJvamVjdHNUb0Zvcm1PcHRpb25zIiwid2luZG93IiwiZXZlbnQiLCJ0YXJnZXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJwcm9qZWN0TmFtZSIsInByb2plY3RFcnJvciIsIm5vUHJvamVjdE5hbWVFcnJvcnMiLCJ2YWxpZGF0ZVByb2plY3RGb3JtIiwibmV3UHJvamVjdCIsIm1vZGFsVG9Qcm9qZWN0Iiwic2F2ZURhdGEiLCJwcm9qZWN0VG9BcnJheSIsInRhc2tOYW1lIiwidGFza0Vycm9yIiwibm9Qcm9qZWN0RXJyb3JzIiwibm9UYXNrRXJyb3JzIiwidmFsaWRhdGVUYXNrRm9ybSIsIm5ld1Rhc2siLCJ0aXRsZSIsImR1ZURhdGUiLCJtb2RhbFRvVGFzayIsImZvckVhY2giLCJ0YXNrVG9BcnJheSJdLCJzb3VyY2VSb290IjoiIn0=